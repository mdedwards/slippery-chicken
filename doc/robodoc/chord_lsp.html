<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-type" content="text/html; charset=ISO-8859-1" />
<link rel="stylesheet" href="./robodoc.css" type="text/css" />
<script src="./robodoc.js"></script>
<title>chord.lsp</title>
<!-- Source: ./../../src/chord.lsp -->
<!-- Generated with ROBODoc Version 4.99.44 (Oct 31 2021) -->
</head>
<script type=text/javascript src=../head-foot.js></script>
<body>
<div id="content">
<script type="text/javascript">header("../");</script>

<div id="logo">
<a name="robo_top_of_doc"></a>
</div> <!-- logo -->
<div id="navigation">
<a class="menuitem" href="./toc_index.html#top">Table of Contents</a>
<a class="menuitem" href="./robo_sourcefiles.html#top">Sourcefiles</a>
<a class="menuitem" href="./roboindex.html#top">Index</a>
<a class="menuitem" href="./robo_parameters.html#top">Global Parameters</a>
<a class="menuitem" href="./robo_classes.html#top">Classes</a>
<a class="menuitem" href="./robo_functions.html#top">Functions</a>
<a class="menuitem" href="./robo_modules.html#top">Modules</a>
<a class="menuitem" href="./robo_methods.html#top">Methods</a>
</div> <!-- navigation -->


<a name="chord2fadd2dharmonics"></a>
<a name="robo69"></a><h2 class=robodoc>chord/add-harmonics [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Adds pitches to the set which are harmonically related to the existing
 pitches. The keywords are the same as for the <a href="./utilities_lsp.html#robo948">get-harmonics</a> function.  See
 also <a href="./sc-set_lsp.html#robo645">sc-set</a> method of the same name and get-<a href="./pitch_lsp.html#robo295">pitch</a>-list-harmonics. NB This
 will automatically sort all pitches from high to low.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - a <a href="#robo628">chord</a> object
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> keyword arguments:
  see <a href="./utilities_lsp.html#robo948">get-harmonics</a> function
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> the same set object as the first argument but with new pitches added.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>add-harmonics</strong> ((c <a href="#robo628">chord</a>) &amp;rest keywords)
</pre>


<a name="chord2fadd2dmark"></a>
<a name="robo70"></a><h2 class=robodoc>chord/add-mark [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Add the specified mark to the MARKS slot of the given <a href="#robo628">chord</a> object.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - A <a href="#robo628">chord</a> object.
 - A mark.
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> - T or NIL to indicate whether to print a warning when attempting to <a href="./recursive-assoc-list_lsp.html#robo406">add</a> a
   mark to a rest.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> Returns the full contents of the MARKS slot of the given <a href="#robo628">chord</a> object
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">;;; Returns the complete contents of the MARKS slot
(let ((chrd (<a href="#robo93">make-chord</a> '(cs4 e4 fs4 af4 bf4))))
  (<strong>add-mark</strong> chrd 'fff)
  (<strong>add-mark</strong> chrd 'pizz))

=&gt; (PIZZ FFF)
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>add-mark</strong> ((c <a href="#robo628">chord</a>) mark &amp;optional warn-rest warn-again)
</pre>


<a name="chord2fadd2dpitches"></a>
<a name="robo71"></a><h2 class=robodoc>chord/add-pitches [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Add the specified pitches to the given <a href="#robo628">chord</a> object. This can include
 duplicate pitches for things like violin fingered and open string
 unisons. If you don't want <a href="./pitch_lsp.html#robo295">pitch</a> duplications, call the rm-duplicates
 method after calling this method.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - A <a href="#robo628">chord</a> object.
 - The pitches to <a href="./recursive-assoc-list_lsp.html#robo406">add</a> to that object. These can be <a href="./pitch_lsp.html#robo295">pitch</a> objects or any data
   that can be passed to <a href="./pitch_lsp.html#robo348">make-pitch</a>, or indeed lists of these, as they will
   be flattened.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> - A <a href="#robo628">chord</a> object.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">(let ((ch (<a href="#robo93">make-chord</a> '(c4 e4 g4))))
  (print (<a href="./rthm-seq-bar_lsp.html#robo502">get-pitch-symbols</a> ch))
  (<strong>add-pitches</strong> ch 'bf3)
  (print (<a href="./rthm-seq-bar_lsp.html#robo502">get-pitch-symbols</a> ch))
  (<strong>add-pitches</strong> ch 'af3 'a4 'b4)
  (print (<a href="./rthm-seq-bar_lsp.html#robo502">get-pitch-symbols</a> ch))
  (<strong>add-pitches</strong> ch '(cs5 ds5 fs5))
  (print (<a href="./rthm-seq-bar_lsp.html#robo502">get-pitch-symbols</a> ch)))

=&gt;
(C4 E4 G4) 
(BF3 C4 E4 G4) 
(AF3 BF3 C4 E4 G4 A4 B4) 
(AF3 BF3 C4 E4 G4 A4 B4 CS5 DS5 FS5) 
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>add-pitches</strong> ((c <a href="#robo628">chord</a>) &amp;rest pitches)
</pre>


<a name="chord2fartificial2dharmonic2dsimple3f"></a>
<a name="robo72"></a><h2 class=robodoc>chord/artificial-harmonic-simple? [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DATE</p>
<pre> January 10th 2019, Heidhausen
</pre>
<p class="item_name">DESCRIPTION</p>
<pre> Tests a <a href="#robo628">chord</a> to see if it's an artificial harmonic such as that created by
 <a href="./event_lsp.html#robo185">force-artificial-harmonic</a>. Unlike <a href="#robo73">artificial-harmonic?</a> this looks for
 two-note chords, the second of which has the flag-head marks and is a fourth
 away i.e. this is the simplest <a href="./sc-map_lsp.html#robo586">double</a>-octave type.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - a <a href="#robo628">chord</a> object
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> T or NIL
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>artificial-harmonic-simple?</strong> ((c <a href="#robo628">chord</a>))
</pre>


<a name="chord2fartificial2dharmonic3f"></a>
<a name="robo73"></a><h2 class=robodoc>chord/artificial-harmonic? [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DATE</p>
<pre> October 4th 2014
</pre>
<p class="item_name">DESCRIPTION</p>
<pre> Determine whether a <a href="#robo628">chord</a> represents an artificial harmonic of the type
 that strings play. An artificial harmonic here is defined as a three note
 <a href="#robo628">chord</a> where the second note has a 'flag-head mark (i.e diamond shape) and
 the 1st and 3rd are related in frequency by an integer ratio.

 NB What we don't do (yet) is test whether the 2nd note is the correct nodal
 point to produce the given <a href="./pitch_lsp.html#robo295">pitch</a>.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - a <a href="#robo628">chord</a> object
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> - cents-tolerance: how many cents the top note can deviate from a pure
   partial frequency. E.g. the 7th harmonic is about 31 cents from the
   <a href="./utilities_lsp.html#robo967">nearest</a> tempered note.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> If the <a href="#robo628">chord</a> is an artificial harmonic then the sounding (3rd) note is
 returned, otherwise NIL.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>artificial-harmonic?</strong> ((c <a href="#robo628">chord</a>) &amp;optional (cents-tolerance 31))
</pre>


<a name="chord2fcalculate2ddissonance"></a>
<a name="robo74"></a><h2 class=robodoc>chord/calculate-dissonance [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DATE</p>
<pre> 27th July 2015, Edinburgh
</pre>
<p class="item_name">DESCRIPTION</p>
<pre> Calculates the dissonance of a <a href="#robo628">chord</a> as it would appear when played on the
 piano (by default; other <a href="./instruments_lsp.html#robo12">instruments</a>' spectral data can also be used: see
 below). This uses a roughness calculation model by Pantelis N. Vassilakis
 as outlined at <a href="http://www.acousticslab.org/learnmoresra/moremodel.html">http://www.acousticslab.org/learnmoresra/moremodel.html</a>. The
 model has been perceptually verified. We use spectral data handled by
 <a href="./spectra_lsp.html#robo_top_of_doc">spectra.lsp</a> to sum the roughness of <a href="./sine_lsp.html#robo18">sine</a> pairs up to the first 12 partials
 of each tone, i.e. every partial of every tone is calculated in relation to
 all other tones' partials, taking their amplitudes into account.

 NB If notes are above/below the piano range for which we have data then we
 use the <a href="#robo90">highest</a>/<a href="./event_lsp.html#robo202">lowest</a> spectral data available.

 NB This method will be called automatically the first time you access a
 <a href="#robo628">chord</a> object's dissonance slot. In that case the default keyword arguments
 will be used. If you want to use different arguments or recalculate
 dissonance after the <a href="#robo628">chord</a> has been altered, this method can be used at any
 time but bear in mind that it does automatically change the dissonance
 slot so use with caution. If you merely want to change the
 default <a href="./spectra_lsp.html#robo20">spectra</a> which are used, then you can do that at startup via
 (set-sc-config 'default-<a href="./spectra_lsp.html#robo20">spectra</a> ...). You can also call rm-diss-cen to
 delete <a href="./sndfile_lsp.html#robo876">centroid</a> and dissonance slot values (this exists in the <a href="./set-palette_lsp.html#robo314">set-palette</a>
 class too). 
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - the <a href="#robo628">chord</a> object 
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> keyword arguments:
 - :num-partials. The number of partials we want to use in our
   calculation. Default = 12.
 - :<a href="./utilities_lsp.html#robo920">average</a>. T or NIL to indicate whether we want to use the <a href="./utilities_lsp.html#robo920">average</a>
   <a href="./sndfile_lsp.html#robo882">spectrum</a> for an octave with the current note of a <a href="#robo628">chord</a> in the <a href="./utilities_lsp.html#robo962">middle</a>.
   Default = T.
 - :<a href="./sndfile_lsp.html#robo882">spectrum</a>. Pass a two-element list of partial frequency scalers (list)
   and amplitudes (list) to use instead of the piano data. The amplitudes
   should be normalised from 0.0 to 1.0 and there should be as many of these
   as frequency scalers and :num-partials. Bear in mind that even using the
   same data for several calls, this will still give different results for
   the same <a href="#robo628">chord</a> type starting on different notes, as the perceptual
   dissonance is based on <a href="./pitch_lsp.html#robo295">pitch</a> height as well as interval structure.
   Default = (get-sc-config 'default-<a href="./spectra_lsp.html#robo20">spectra</a>) (see <a href="./globals_lsp.html#robo_top_of_doc">globals.lsp</a>)
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> A floating point number representing the dissonance value. Higher values
 are more dissonant.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">(loop for <a href="#robo628">chord</a> in '((c4 e4 g4)
                     (d4 fs4 a4)
                     (c4 ef4 g4)
                     (c2 e2 g2)
                     (c3 e3 g3)
                     (c4 e4 g4 b4)
                     (c4 e4 g4 b4 cs4))
   collect (<strong>calculate-dissonance</strong> (<a href="#robo93">make-chord</a> <a href="#robo628">chord</a>) :num-partials 12))
--&gt;
(0.402377778595695d0 0.3699311905936456d0 0.4174836004632471d0
 1.8766497834038562d0 1.0522737914732592d0 0.7389679913974341d0
 1.59662137873394d0)
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>calculate-dissonance</strong> ((c <a href="#robo628">chord</a>)
                                 &amp;key (num-partials 12) (<a href="./utilities_lsp.html#robo920">average</a> t)
                                   (<a href="./sndfile_lsp.html#robo882">spectrum</a> (get-sc-config 'default-<a href="./spectra_lsp.html#robo20">spectra</a>)))
</pre>


<a name="chord2fcalculate2dspectral2dcentroid"></a>
<a name="robo75"></a><h2 class=robodoc>chord/calculate-spectral-centroid [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DATE</p>
<pre> July 28th 2015
</pre>
<p class="item_name">DESCRIPTION</p>
<pre> Calculate the spectral <a href="./sndfile_lsp.html#robo876">centroid</a> of a <a href="#robo628">chord</a>. This technique is of course
 usually applied in digital signal processing to an audio signal via a
 Fast Fourier Transform (FFT). It's perhaps a little strange to use this on
 <a href="./pitch_lsp.html#robo295">pitch</a> data, not least of which because we will not be taking into
 account any phase information or interference of possible harmonic partial
 interactions, but nevertheless we get a good indication of the "<a href="./pitch_lsp.html#robo295">pitch</a>
 height" of a <a href="#robo628">chord</a> via this method.
 
 NB This will be called automatically the first time you access a <a href="#robo628">chord</a>
 object's <a href="./sndfile_lsp.html#robo876">centroid</a> slot. In that case the default keyword arguments will be
 used. If you want to use different arguments or recalculate the <a href="./sndfile_lsp.html#robo876">centroid</a>
 after the <a href="#robo628">chord</a> has been altered, this method can be used at any time but
 bear in mind that it does automatically change the <a href="./sndfile_lsp.html#robo876">centroid</a> slot so use
 with caution. You can call rm-diss-cen to delete <a href="./sndfile_lsp.html#robo876">centroid</a> and dissonance
 slot values (this exists in the <a href="./set-palette_lsp.html#robo314">set-palette</a> class too). 
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - the <a href="#robo628">chord</a> object 
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> keyword arguments:
 - :num-partials. The number of partials we want to use in our
   calculation. Default = 12.
 - :<a href="./utilities_lsp.html#robo920">average</a>. T or NIL to indicate whether we want to use the <a href="./utilities_lsp.html#robo920">average</a>
   <a href="./sndfile_lsp.html#robo882">spectrum</a> for an octave with the current note of a <a href="#robo628">chord</a> in the <a href="./utilities_lsp.html#robo962">middle</a>.
   Default = T.
 - :<a href="./sndfile_lsp.html#robo882">spectrum</a>. Pass a two-element list of partial frequency scalers (list)
   and amplitudes (list) to use instead of the piano data. The amplitudes
   should be normalised from 0.0 to 1.0 and there should be as many of these
   as frequency scalers and :num-partials. Default = (get-sc-config
   'default-<a href="./spectra_lsp.html#robo20">spectra</a>) (see <a href="./globals_lsp.html#robo_top_of_doc">globals.lsp</a>)  
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> A floating point value representing the frequency in Hertz of the spectral
 <a href="./sndfile_lsp.html#robo876">centroid</a>.  
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">(<strong>calculate-spectral-centroid</strong> (<a href="#robo93">make-chord</a> '(fs3 c4 cs4 d4 ds4 e4)))
 --&gt; 692.3215865354373d0
(<strong>calculate-spectral-centroid</strong> (<a href="#robo93">make-chord</a> '(fs3 c4 cs4 d4 ds4 e4 g6)))
 --&gt; 772.4924013974714d0
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>calculate-spectral-centroid</strong> ((c <a href="#robo628">chord</a>)
                                        &amp;key (num-partials 12)
                                          (<a href="./utilities_lsp.html#robo920">average</a> t)
                                          (<a href="./sndfile_lsp.html#robo882">spectrum</a>
                                           (get-sc-config 'default-<a href="./spectra_lsp.html#robo20">spectra</a>)))
</pre>


<a name="chord2fchord2dequal"></a>
<a name="robo76"></a><h2 class=robodoc>chord/chord-equal [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Test to see if two chords are equal.

 NB: Two unsorted <a href="#robo628">chord</a> objects that contain the exact same <a href="./pitch_lsp.html#robo295">pitch</a> objects in
     a different order will not be considered equal and will return NIL.

 NB: Equality is tested on <a href="./pitch_lsp.html#robo295">pitch</a> content only, not on, for example, the
     values of the MIDI slots of those <a href="./pitch_lsp.html#robo295">pitch</a> objects etc.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - A first <a href="#robo628">chord</a> object.
 - A second <a href="#robo628">chord</a> object.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> T or NIL. T if the <a href="./pitch_lsp.html#robo295">pitch</a> content of the chords is equal, otherwise NIL.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">;; Two chords are equal
(let ((chrd1 (<a href="#robo93">make-chord</a> '(c4 e4 gqs4 bqf4 d5 f5)
                        :midi-channel 11
                        :microtones-midi-channel 12))
      (chrd2 (<a href="#robo93">make-chord</a> '(c4 e4 gqs4 bqf4 d5 f5)
                        :midi-channel 11
                        :microtones-midi-channel 12)))
  (<strong>chord-equal</strong> chrd1 chrd2))

=&gt; T

;; Chord objects with the same <a href="./pitch_lsp.html#robo295">pitch</a> objects in a different order are unequal
(let ((chrd1 (<a href="#robo93">make-chord</a> '(c4 e4 gqs4 bqf4 d5 f5)
                        :midi-channel 11
                        :microtones-midi-channel 12))
      (chrd2 (<a href="#robo93">make-chord</a> '(e4 c4 gqs4 bqf4 d5 f5)
                        :midi-channel 11
                        :microtones-midi-channel 12
                        :auto-sort nil)))
  (<strong>chord-equal</strong> chrd1 chrd2))

=&gt; NIL

;; Only the <a href="./pitch_lsp.html#robo295">pitch</a> content is compared. Content of other slots is irrelevant. 
(let ((chrd1 (<a href="#robo93">make-chord</a> '(e4 c4 gqs4 bqf4 d5 f5)
                         :midi-channel 11
                         :microtones-midi-channel 12))
      (chrd2 (<a href="#robo93">make-chord</a> '(e4 c4 gqs4 bqf4 d5 f5)
                         :midi-channel 7
                         :microtones-midi-channel 8)))
  (<strong>chord-equal</strong> chrd1 chrd2))

=&gt; T
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>chord-equal</strong> ((c1 <a href="#robo628">chord</a>) (c2 <a href="#robo628">chord</a>))
</pre>


<a name="chord2fchord2dmember"></a>
<a name="robo77"></a><h2 class=robodoc>chord/chord-member [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Test whether a specified <a href="./pitch_lsp.html#robo295">pitch</a> object is a member of a given <a href="#robo628">chord</a> object. 
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - A <a href="#robo628">chord</a> object. 
 - A <a href="./pitch_lsp.html#robo295">pitch</a> object. This must be a <a href="./pitch_lsp.html#robo295">pitch</a> object, not just a note-name symbol,
   but the <a href="./pitch_lsp.html#robo295">pitch</a> object can be made with either a note-name symbol or a
   numerical hertz frequency value.
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> - T or NIL to indicate whether or not the method should consider
   enharmonically equivalent pitches to be equal. T = <a href="./slippery-chicken-edit_lsp.html#robo721">enharmonics</a> are
   equal. Default = T.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> Similar to Lisp's "member" function, this method returns the tail of the
 data (list of <a href="./pitch_lsp.html#robo295">pitch</a> objects) of the tested <a href="#robo628">chord</a> object starting with the
 specified <a href="./pitch_lsp.html#robo295">pitch</a> object if that <a href="./pitch_lsp.html#robo295">pitch</a> is indeed a member of that list,
 otherwise returns NIL.  

 NB: Since the method returns the tail of the given <a href="#robo628">chord</a> (the "rest" of the
     pitches after the given <a href="./pitch_lsp.html#robo295">pitch</a>), the result may be different depending
     on whether that <a href="#robo628">chord</a> has been auto-sorted or not.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">;; Returns the tail of <a href="./pitch_lsp.html#robo295">pitch</a> objects contained starting with the tested <a href="./pitch_lsp.html#robo295">pitch</a>
(let ((chrd (<a href="#robo93">make-chord</a> '(c4 e4 gqs4 a4 d5 f5 bqf5)
                        :midi-channel 11
                        :microtones-midi-channel 12)))
  (<a href="./pitch_lsp.html#robo359">pitch-list-to-symbols</a> (<strong>chord-member</strong> chrd (<a href="./pitch_lsp.html#robo348">make-pitch</a> 'a4))))

=&gt; (A4 D5 F5 BQF5)

;; The <a href="#robo628">chord</a> object's default auto-sort feature might appear to affect outcome
(let ((chrd (<a href="#robo93">make-chord</a> '(d5 c4 gqs4 a4 bqf5 f5 e4)
                        :midi-channel 11
                        :microtones-midi-channel 12)))
  (<a href="./pitch_lsp.html#robo359">pitch-list-to-symbols</a> (<strong>chord-member</strong> chrd (<a href="./pitch_lsp.html#robo348">make-pitch</a> 'a4))))

=&gt; (A4 D5 F5 BQF5)

;; Returns NIL if the <a href="./pitch_lsp.html#robo295">pitch</a> is not present in the tested <a href="#robo628">chord</a> object. This
;; example uses the "<a href="./pitch_lsp.html#robo295">pitch</a>-list-to-symbols" function to simplify the
;; <a href="./pitch_lsp.html#robo295">pitch</a>-object output.
(let ((chrd (<a href="#robo93">make-chord</a> '(d5 c4 gqs4 a4 bqf5 f5 e4)
                        :midi-channel 11
                        :microtones-midi-channel 12)))
  (<a href="./pitch_lsp.html#robo359">pitch-list-to-symbols</a> (<strong>chord-member</strong> chrd (<a href="./pitch_lsp.html#robo348">make-pitch</a> 'b4))))

=&gt; NIL

;; The optional &lt;<a href="./slippery-chicken-edit_lsp.html#robo721">enharmonics</a>-are-equal&gt; argument is set to NIL by default
(let ((chrd (<a href="#robo93">make-chord</a> '(c4 e4 a4 d5 f5))))
  (<a href="./pitch_lsp.html#robo359">pitch-list-to-symbols</a> (<strong>chord-member</strong> chrd (<a href="./pitch_lsp.html#robo348">make-pitch</a> 'ds4))))

=&gt; NIL

;; Setting the optional &lt;<a href="./slippery-chicken-edit_lsp.html#robo721">enharmonics</a>-are-equal&gt; argument to T
(let ((chrd (<a href="#robo93">make-chord</a> '(c4 ef4 a4 d5 f5))))
  (<a href="./pitch_lsp.html#robo359">pitch-list-to-symbols</a> (<strong>chord-member</strong> chrd (<a href="./pitch_lsp.html#robo348">make-pitch</a> 'ds4) t)))

=&gt; (EF4 A4 D5 F5)

;; The optional &lt;octaves-are-true&gt; argument is NIL by default

(let ((chrd (<a href="#robo93">make-chord</a> '(c4 ef4 a4 d5 ef5 f5))))
  (<a href="./pitch_lsp.html#robo359">pitch-list-to-symbols</a> (<strong>chord-member</strong> chrd (<a href="./pitch_lsp.html#robo348">make-pitch</a> 'c5))))

=&gt; NIL

;; If optional &lt;octaves-are-true&gt; argument is set to T, any occurrence of the
;; same <a href="./pitch_lsp.html#robo295">pitch</a> class in a different octave will be considered part of the <a href="#robo628">chord</a>
;; and return a positive result.
(let ((chrd (<a href="#robo93">make-chord</a> '(c4 ef4 a4 d5 ef5 f5))))
  (<a href="./pitch_lsp.html#robo359">pitch-list-to-symbols</a> (<strong>chord-member</strong> chrd (<a href="./pitch_lsp.html#robo348">make-pitch</a> 'c5) nil t)))

=&gt; (C4 EF4 A4 D5 EF5 F5)
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>chord-member</strong> ((c <a href="#robo628">chord</a>) (p <a href="./pitch_lsp.html#robo295">pitch</a>) 
                         &amp;optional (<a href="./slippery-chicken-edit_lsp.html#robo721">enharmonics</a>-are-equal t)
                                   (octaves-are-true nil))
</pre>


<a name="chord2fchord3d"></a>
<a name="robo78"></a><h2 class=robodoc>chord/chord= [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DATE</p>
<pre> November 11th 2013
</pre>
<p class="item_name">DESCRIPTION</p>
<pre> Test whether the <a href="./pitch_lsp.html#robo295">pitch</a> objects of the two chords are <a href="./pitch_lsp.html#robo367">pitch=</a>.  Assumes both
 chords are sorted by <a href="./pitch_lsp.html#robo295">pitch</a> height.  See <a href="./pitch_lsp.html#robo367">pitch=</a> in the <a href="./pitch_lsp.html#robo295">pitch</a> class for
 details of comparing pitches.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> T or NIL
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>chord=</strong> ((c1 <a href="#robo628">chord</a>) (c2 <a href="#robo628">chord</a>) &amp;optional <a href="./slippery-chicken-edit_lsp.html#robo721">enharmonics</a>-are-equal
                   (frequency-tolerance 0.01)) ; (src-tolerance 0.0001))
</pre>


<a name="chord2fcollapse"></a>
<a name="robo79"></a><h2 class=robodoc>chord/collapse [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DATE</p>
<pre> February 1st 2018, Heidhausen
</pre>
<p class="item_name">DESCRIPTION</p>
<pre> Collapse or shift all the pitches of a <a href="#robo628">chord</a> until a single octave.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - a <a href="#robo628">chord</a> object
 - the octave to shift the pitches into (integer)
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> none
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> a new <a href="#robo628">chord</a> object with the pitches in the given object
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">(print-simple (<strong>collapse</strong> (<a href="#robo93">make-chord</a> '(d4 f4 bf4 e5 b5)) 2))
--&gt; NIL: D2 E2 F2 BF2 B2 
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>collapse</strong> ((c <a href="#robo628">chord</a>) octave)
</pre>


<a name="chord2fcommon2dnotes"></a>
<a name="robo80"></a><h2 class=robodoc>chord/common-notes [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Return the integer number of pitches common to two <a href="#robo628">chord</a> objects.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - A first <a href="#robo628">chord</a> object.
 - A second <a href="#robo628">chord</a> object.
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> - T or NIL to indicate whether enharmonically equivalent pitches are to be
   considered the same <a href="./pitch_lsp.html#robo295">pitch</a>. T = enharmonically equivalent pitches are
   considered the same <a href="./pitch_lsp.html#robo295">pitch</a>. Default = T.
 - T or NIL to indicate whether the same <a href="./pitch_lsp.html#robo295">pitch</a> class in different octaves is
   to be considered the same <a href="./pitch_lsp.html#robo295">pitch</a>. T = consider the same <a href="./pitch_lsp.html#robo295">pitch</a> class from
   octaves to be the same <a href="./pitch_lsp.html#robo295">pitch</a>. Default = NIL.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> Returns an integer that is the number of pitches common to the two chords
 objects. Two further values are returned: the list of common pitches and a
 list of their <a href="./pitch_lsp.html#robo295">pitch</a> symbols.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">;; The following two <a href="#robo628">chord</a> objects have 3 pitches in common
(let ((chrd-1 (<a href="#robo93">make-chord</a> '(c4 e4 g4 b4 d5 f5)))
      (chrd-2 (<a href="#robo93">make-chord</a> '(d3 f3 a3 c4 e4 g4))))
  (<strong>common-notes</strong> chrd-1 chrd-2))
=&gt; 3

;; By default, enharmonically equivalent pitches are considered to be the same
;; <a href="./pitch_lsp.html#robo295">pitch</a> 
(let ((chrd-1 (<a href="#robo93">make-chord</a> '(c4 e4 g4 b4 d5 f5)))
      (chrd-2 (<a href="#robo93">make-chord</a> '(d3 f3 a3 c4 ff4 g4))))
  (<strong>common-notes</strong> chrd-1 chrd-2))
=&gt; 3

;; Setting the first optional argument to NIL causes enharmonically equivalent
;; pitches to be considered separate pitches
(let ((chrd-1 (<a href="#robo93">make-chord</a> '(c4 e4 g4 b4 d5 f5)))
      (chrd-2 (<a href="#robo93">make-chord</a> '(d3 f3 a3 c4 ff4 g4))))
  (<strong>common-notes</strong> chrd-1 chrd-2 nil))
=&gt; 2

;; By default, the same <a href="./pitch_lsp.html#robo295">pitch</a> class in different octaves is considered to be a
;; separate <a href="./pitch_lsp.html#robo295">pitch</a>
(let ((chrd-1 (<a href="#robo93">make-chord</a> '(c4 e4 g4 b4 d5 f5)))
      (chrd-2 (<a href="#robo93">make-chord</a> '(d3 f3 a3 ff4 g4 c5))))
  (<strong>common-notes</strong> chrd-1 chrd-2 t))
=&gt; 2

;; Setting the second optional argument to T causes all pitches of the same
;; <a href="./pitch_lsp.html#robo295">pitch</a> class to be considered equal regardless of their octave
(let ((chrd-1 (<a href="#robo93">make-chord</a> '(c4 e4 g4 b4 d5 f5)))
      (chrd-2 (<a href="#robo93">make-chord</a> '(d3 f3 a3 ff4 g4 c5))))
  (<strong>common-notes</strong> chrd-1 chrd-2 t t))
=&gt; 5
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>common-notes</strong> ((c1 <a href="#robo628">chord</a>) (c2 <a href="#robo628">chord</a>)
                         &amp;optional (<a href="./slippery-chicken-edit_lsp.html#robo721">enharmonics</a>-are-equal t)
                         (octaves-are-true nil))
</pre>


<a name="chord2fcontains2dpitches"></a>
<a name="robo81"></a><h2 class=robodoc>chord/contains-pitches [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Check to see if a given <a href="#robo628">chord</a> object contains <a href="./pitch_lsp.html#robo295">pitch</a> objects for all of the
 specified note-names. The method returns NIL if any one of the specified
 pitches is not found in the given <a href="#robo628">chord</a> object.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - An <a href="#robo628">chord</a> object.
 - A list of note-name symbols or <a href="./pitch_lsp.html#robo295">pitch</a> objects. NB: If checking for only one
   <a href="./pitch_lsp.html#robo295">pitch</a>, that <a href="./pitch_lsp.html#robo295">pitch</a> must be passed as a single-item list.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> T or NIL.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">;; Returns T when all specified pitches are contained in the given <a href="#robo628">chord</a>
;; object 
(let ((c (<a href="#robo93">make-chord</a> '(d2 f2 a2 c3 e3 g3 b3 d4 gf4 bf4 df5 f5 af5 c6))))
  (<strong>contains-pitches</strong> c '(d2 e3 gf4 af5)))

=&gt; T

;; Returns NIL if any one of the specified pitches is not contained in the
;; given <a href="#robo628">chord</a> object.
(let ((c (<a href="#robo93">make-chord</a> '(d2 f2 a2 c3 e3 g3 b3 d4 gf4 bf4 df5 f5 af5 c6))))
  (<strong>contains-pitches</strong> c '(d2 e3 gf4 b4 af5)))

=&gt; NIL
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>contains-pitches</strong> ((c <a href="#robo628">chord</a>) pitches
                             &amp;optional <a href="./slippery-chicken-edit_lsp.html#robo721">enharmonics</a>-are-equal octaves-are-true)
</pre>


<a name="chord2fdelete2dmarks"></a>
<a name="robo82"></a><h2 class=robodoc>chord/delete-marks [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Delete all marks from the MARKS slot of the given <a href="#robo628">chord</a> object.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - A <a href="#robo628">chord</a> object.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> Returns NIL.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">;;; Make a <a href="#robo628">chord</a> object, <a href="./recursive-assoc-list_lsp.html#robo406">add</a> two marks, and print the MARKS slot to see them;
;;; apply <strong>delete-marks</strong> and print the MARKS slot again to see the change
(let ((chrd (<a href="#robo93">make-chord</a> '(cs4 e4 fs4 af4 bf4))))
  (<a href="#robo70">add-mark</a> chrd 'fff)
  (<a href="#robo70">add-mark</a> chrd 'pizz)
  (print (marks chrd))
  (<strong>delete-marks</strong> chrd)
  (print (marks chrd)))

=&gt;
(PIZZ FFF) 
NIL
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>delete-marks</strong> ((c <a href="#robo628">chord</a>))
</pre>


<a name="chord2fget2dhighest"></a>
<a name="robo83"></a><h2 class=robodoc>chord/get-highest [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DATE</p>
<pre> 28/10/14
</pre>
<p class="item_name">DESCRIPTION</p>
<pre> Assuming the auto-sort slot is T (which it is by default), return the last
 (= <a href="#robo90">highest</a>) <a href="./pitch_lsp.html#robo295">pitch</a> in the <a href="#robo628">chord</a>. 
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - a <a href="#robo628">chord</a> object
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> The <a href="#robo90">highest</a> <a href="./pitch_lsp.html#robo295">pitch</a> (object) in the <a href="#robo628">chord</a>.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>get-highest</strong> ((c <a href="#robo628">chord</a>))
</pre>


<a name="chord2fget2dinterval2dstructure"></a>
<a name="robo84"></a><h2 class=robodoc>chord/get-interval-structure [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Get the distances <a href="./utilities_lsp.html#robo921">between</a> each <a href="./pitch_lsp.html#robo295">pitch</a> in a given <a href="./sc-set_lsp.html#robo645">sc-set</a> object and the
 <a href="./event_lsp.html#robo202">lowest</a> (or neighbouring) <a href="./pitch_lsp.html#robo295">pitch</a> in that object in DEGREES (which default to
 quarter-tones in slippery chicken). This method assumes that the given
 <a href="./sc-set_lsp.html#robo645">sc-set</a> object is sorted from low to high, which is the default action for
 <a href="./sc-set_lsp.html#robo645">sc-set</a> objects.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - An <a href="./sc-set_lsp.html#robo645">sc-set</a> object.

 OPTIONAL
 - T or NIL indicating whether to return values in <a href="./utilities_lsp.html#robo1004">semitones</a> or default of
   degrees. Special case: if this argument is 'frequencies, then the
   interval structure will be returned as frequency differences. T =
   <a href="./utilities_lsp.html#robo1004">semitones</a>. Default = NIL.
 - T or NIL to indicated whether we should return intervals from <a href="./pitch_lsp.html#robo295">pitch</a> to
   <a href="./pitch_lsp.html#robo295">pitch</a> (T) or from the <a href="./event_lsp.html#robo202">lowest</a> to each <a href="./pitch_lsp.html#robo295">pitch</a> (NIL). Default = NIL.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> A list of integers.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">;;; Returns the distances in degrees (which are quarter-tones by default
;;; in slippery chicken--use (<a href="./cm_lsp.html#robo136">in-scale</a> :chromatic) at the top of your code to
;;; set to the chromatic <a href="./popcorn_lsp.html#robo395">scale</a>):

(<strong>get-interval-structure</strong> (<a href="#robo93">make-chord</a> '(c4 e4 g4)))
-&gt; (8.0 14.0)

;;; Return <a href="./utilities_lsp.html#robo1004">semitones</a>
(<strong>get-interval-structure</strong> (<a href="#robo93">make-chord</a> '(c4 e4 g4)) t)
-&gt; (4.0 7.0)

;;; Interval structure not from <a href="./event_lsp.html#robo202">lowest</a> but from <a href="./pitch_lsp.html#robo295">pitch</a> to <a href="./pitch_lsp.html#robo295">pitch</a> (ascending)
(<strong>get-interval-structure</strong> (<a href="#robo93">make-chord</a> '(c4 e4 g4 b4)) t t)
-&gt;(4.0 3.0 4.0)
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>get-interval-structure</strong> ((c <a href="#robo628">chord</a>) &amp;optional
                                               in-<a href="./utilities_lsp.html#robo1004">semitones</a> neighbour)
</pre>


<a name="chord2fget2dmidi2dchannel"></a>
<a name="robo85"></a><h2 class=robodoc>chord/get-midi-channel [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Get the MIDI channel of the first <a href="./pitch_lsp.html#robo295">pitch</a> object contained in a given <a href="#robo628">chord</a>
 object. 
 
 NB: This method returns only the midi-channel of the first <a href="./pitch_lsp.html#robo295">pitch</a> object in
     the <a href="#robo628">chord</a> object's data list.  
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - A <a href="#robo628">chord</a> object.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> An integer: the midi channel
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">(let ((chrd (<a href="#robo93">make-chord</a> '(c4 e4 gqs4 bqf4 d5 f5)
                        :midi-channel 11
                        :microtones-midi-channel 12)))
  (<strong>get-midi-channel</strong> chrd))

=&gt; 11
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>get-midi-channel</strong> ((c <a href="#robo628">chord</a>))
</pre>


<a name="chord2fget2dpartials2damps"></a>
<a name="robo86"></a><h2 class=robodoc>chord/get-partials-amps [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DATE</p>
<pre> July 28th 2015, Edinburgh
</pre>
<p class="item_name">DESCRIPTION</p>
<pre> Return a list containing for every <a href="./pitch_lsp.html#robo295">pitch</a> in the <a href="#robo628">chord</a> a list of two lists:
 first the partial frequency scalars (which will be integers or very close
 to integers) then the normalised partial amplitudes.

 Note that if <a href="./sndfile_lsp.html#robo882">spectrum</a> are given then <a href="./utilities_lsp.html#robo920">average</a> is ignored. If <a href="./sndfile_lsp.html#robo882">spectrum</a> is an
 <a href="./assoc-list_lsp.html#robo113">assoc-list</a> then we get the data from it otherwise if it's just a list of
 freq-scalers then amps, it's fixed and we use that repeatedly.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - the <a href="#robo628">chord</a> object
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> keyword arguments:
 - :<a href="./utilities_lsp.html#robo920">average</a>. Whether to <a href="./utilities_lsp.html#robo920">average</a> spectral data over one octave centring around
 each of the pictures in the <a href="#robo628">chord</a>. Default = T.
 - :<a href="./sndfile_lsp.html#robo882">spectrum</a>. The <a href="./sndfile_lsp.html#robo882">spectrum</a> data. Default = (get-sc-config 'default-<a href="./spectra_lsp.html#robo20">spectra</a>)
   (see <a href="./globals_lsp.html#robo_top_of_doc">globals.lsp</a>)
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> A list of two element sublist. of numbers.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">(<strong>get-partials-amps</strong> (<a href="#robo93">make-chord</a> '(c4 e4 g4)))
--&gt;
(((0.99666667 1.9958333 2.9941666 3.9958336 5.002501 6.015 7.0333333 8.049168
   9.086666 10.125 11.174167 12.234166)
  (0.9447856 1.0000001 0.22975834 0.13516104 0.1625952 0.05319352 0.12118169
   2.1978654e-4 0.049031425 0.010756988 0.011732774 0.0))
 ((0.9966666 1.9958333 2.9966667 4.0025005 5.0133333 6.028333 7.0575004
   8.085834 9.136668 10.193334 11.264999 12.346667)
  (0.99999994 0.73724264 0.20146085 0.10752921 0.122650035 0.03613218
   0.06638182 0.0 0.022111647 0.004390597 0.011441806 5.167861e-4))
 ((0.9966666 1.995 3.0 4.005834 5.0208335 6.042501 7.08 8.1225 9.185 10.261666
   11.45 11.405833)
  (1.0 0.48279247 0.1664997 0.066108614 0.07859015 0.027295936 0.035848983 0.0
   0.010107763 0.0027390774 0.0040924386 0.0010194636)))
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>get-partials-amps</strong> ((c <a href="#robo628">chord</a>)
                              &amp;key (<a href="./utilities_lsp.html#robo920">average</a> t)
                                (<a href="./sndfile_lsp.html#robo882">spectrum</a> (get-sc-config 'default-<a href="./spectra_lsp.html#robo20">spectra</a>)))
</pre>


<a name="chord2fget2dpitch"></a>
<a name="robo87"></a><h2 class=robodoc>chord/get-pitch [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Get the <a href="./pitch_lsp.html#robo295">pitch</a> object located at the specified index within the given <a href="#robo628">chord</a>
 object. The &lt;ref&gt; argument is 1-based.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - A <a href="#robo628">chord</a> object.
 - An integer that is the index of the <a href="./pitch_lsp.html#robo295">pitch</a> object sought within the data
   list of the given <a href="#robo628">chord</a> object.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> A <a href="./pitch_lsp.html#robo295">pitch</a> object.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">(let ((chrd (<a href="#robo93">make-chord</a> '(c4 e4 gqs4 bqf4 d5 f5)
                        :midi-channel 11
                        :microtones-midi-channel 12)))
  (<strong>get-pitch</strong> chrd 3))

=&gt; 
PITCH: frequency: 403.482, midi-note: 67, midi-channel: 12 
       <a href="./pitch_lsp.html#robo295">pitch</a>-bend: 0.5 
       degree: 135, data-consistent: T, white-note: G4
       <a href="./utilities_lsp.html#robo967">nearest</a>-chromatic: G4
       src: 1.5422108173370361, src-ref-<a href="./pitch_lsp.html#robo295">pitch</a>: C4, score-note: GS4 
       qtr-sharp: 1, qtr-flat: NIL, qtr-tone: 1,  
       micro-tone: T, 
       sharp: NIL, flat: NIL, natural: NIL, 
       octave: 4, c5ths: 0, no-8ve: GQS, no-8ve-no-acc: G
       show-accidental: T, white-degree: 32, 
       accidental: QS, 
       accidental-in-parentheses: NIL, marks: NIL
LINKED-NAMED-OBJECT: previous: NIL, this: NIL, next: NIL
NAMED-OBJECT: id: GQS4, tag: NIL, 
data: GQS4
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>get-pitch</strong> ((c <a href="#robo628">chord</a>) ref)
</pre>


<a name="chord2fget2dpitch2dsymbols"></a>
<a name="robo88"></a><h2 class=robodoc>chord/get-pitch-symbols [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Return the data of the <a href="./pitch_lsp.html#robo295">pitch</a> objects from a given <a href="#robo628">chord</a> object as a list of
 note-name symbols.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - A <a href="#robo628">chord</a> object.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> A list of note-name symbols.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">(let ((chrd (<a href="#robo93">make-chord</a> '(c4 e4 gqs4 bqf4 d5 f5)
                        :midi-channel 11
                        :microtones-midi-channel 12)))
  (<strong>get-pitch-symbols</strong> chrd))

=&gt; (C4 E4 GQS4 BQF4 D5 F5)
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>get-pitch-symbols</strong> ((c <a href="#robo628">chord</a>) &amp;optional ignore)
</pre>


<a name="chord2fhas2dnotes"></a>
<a name="robo89"></a><h2 class=robodoc>chord/has-notes [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DATE</p>
<pre> 16-Aug-2010
</pre>
<p class="item_name">DESCRIPTION</p>
<pre> Tests whether a given <a href="#robo628">chord</a> object contains at least one <a href="./pitch_lsp.html#robo295">pitch</a>
 object. 

 (<a href="#robo93">make-chord</a> nil) is a valid function call and creates a <a href="#robo628">chord</a> object with
 no notes. 
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - A <a href="#robo628">chord</a> object. 
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> Returns T if the given <a href="#robo628">chord</a> object contains at least one <a href="./pitch_lsp.html#robo295">pitch</a> object,
 otherwise returns NIL.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">;; Returns T if the given <a href="#robo628">chord</a> object contains at least one <a href="./pitch_lsp.html#robo295">pitch</a> object
(let ((chrd (<a href="#robo93">make-chord</a> '(c4))))
  (<strong>has-notes</strong> chrd))

=&gt; T

(let ((chrd (<a href="#robo93">make-chord</a> '(c4 e4 g4))))
  (<strong>has-notes</strong> chrd))

=&gt; T

;; Otherwise returns NIL
(let ((chrd (<a href="#robo93">make-chord</a> nil)))
  (<strong>has-notes</strong> chrd))

=&gt; NIL
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>has-notes</strong> ((c <a href="#robo628">chord</a>))
</pre>


<a name="chord2fhighest"></a>
<a name="robo90"></a><h2 class=robodoc>chord/highest [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Return the <a href="./pitch_lsp.html#robo295">pitch</a> object from the given <a href="#robo628">chord</a> object that has the <strong>highest</strong>
 <a href="./pitch_lsp.html#robo295">pitch</a> data. 

 NB: As opposed to the "<a href="./event_lsp.html#robo202">lowest</a>" method, this method cannot handle <a href="#robo628">chord</a>
     objects whose pitches have not been auto-sorted from low to high.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - A <a href="#robo628">chord</a> object.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> A <a href="./pitch_lsp.html#robo295">pitch</a> object
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">;; Returns the last <a href="./pitch_lsp.html#robo295">pitch</a> object of a <a href="#robo628">chord</a> object
(let ((chrd (<a href="#robo93">make-chord</a> '(e4 c4 gqs4 bqf4 d5 f5)
                        :midi-channel 11
                        :microtones-midi-channel 12)))
  (<strong>highest</strong> chrd))

=&gt; 
PITCH: frequency: 698.456, midi-note: 77, midi-channel: 11 
       <a href="./pitch_lsp.html#robo295">pitch</a>-bend: 0.0 
       degree: 154, data-consistent: T, white-note: F5
       <a href="./utilities_lsp.html#robo967">nearest</a>-chromatic: F5
       src: 2.669679641723633, src-ref-<a href="./pitch_lsp.html#robo295">pitch</a>: C4, score-note: F5 
       qtr-sharp: NIL, qtr-flat: NIL, qtr-tone: NIL,  
       micro-tone: NIL, 
       sharp: NIL, flat: NIL, natural: T, 
       octave: 5, c5ths: 0, no-8ve: F, no-8ve-no-acc: F
       show-accidental: T, white-degree: 38, 
       accidental: N, 
       accidental-in-parentheses: NIL, marks: NIL
LINKED-NAMED-OBJECT: previous: NIL, this: NIL, next: NIL
NAMED-OBJECT: id: F5, tag: NIL, 
data: F5

;; Is not capable of returning the <strong>highest</strong> <a href="./pitch_lsp.html#robo295">pitch</a> object from <a href="#robo628">chord</a> objects that
;; have not been auto-sorted
(let ((chrd (<a href="#robo93">make-chord</a> '(e4 c4 gqs4 bqf4 f5 d5)
                        :midi-channel 11
                        :microtones-midi-channel 12
                        :auto-sort nil)))
  (data (<strong>highest</strong> chrd)))

=&gt; D5
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>highest</strong> ((c <a href="#robo628">chord</a>))
</pre>


<a name="chord2finvert"></a>
<a name="robo91"></a><h2 class=robodoc>chord/invert [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DATE</p>
<pre> May 1st 2020, Heidhaisen
</pre>
<p class="item_name">DESCRIPTION</p>
<pre> Invert the interval structure of a <a href="#robo628">chord</a>. By default the given bottom note
 becomes the new top note, as the intervals are mirrored around it, but if
 the optional argument is non-NIL then the result will be transposed so that
 the <a href="#robo628">chord</a> has the original range.
 
 This is quite different to the concept of traditional (tonal) <a href="#robo628">chord</a>
 inversion, where we move from root position to first inversion, second
 inversion, etc. See the trad-<strong>invert</strong> method for this.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - a <a href="#robo628">chord</a> object
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> T or NIL to indicate whether the retain the original range or not
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> a new <a href="#robo628">chord</a> object which is the interval inversion of the argument
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">(<a href="./rthm-seq-bar_lsp.html#robo502">get-pitch-symbols</a> (<strong>invert</strong> (<a href="#robo93">make-chord</a> '(d4 f4 bf4 e5 b5))))
--&gt; (F2 C3 FS3 B3 D4)

(<a href="./rthm-seq-bar_lsp.html#robo502">get-pitch-symbols</a> (<strong>invert</strong> (<a href="#robo93">make-chord</a> '(d4 f4 bf4 e5 b5)) t))
--&gt; (D4 A4 EF5 AF5 B5)
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>invert</strong> ((c <a href="#robo628">chord</a>) &amp;optional <a href="#robo109">top-to-bottom</a> ignore)
</pre>


<a name="chord2flowest"></a>
<a name="robo92"></a><h2 class=robodoc>chord/lowest [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Return the <a href="./pitch_lsp.html#robo295">pitch</a> object from the given <a href="#robo628">chord</a> object that has the <strong>lowest</strong>
 <a href="./pitch_lsp.html#robo295">pitch</a> data. The method can handle <a href="#robo628">chord</a> objects whose pitches have not been
 auto-sorted from low to high.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - A <a href="#robo628">chord</a> object.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> A <a href="./pitch_lsp.html#robo295">pitch</a> object.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">;; Returns the <a href="./pitch_lsp.html#robo295">pitch</a> object of the <strong>lowest</strong> <a href="./pitch_lsp.html#robo295">pitch</a> despite not being sorted
(let ((chrd (<a href="#robo93">make-chord</a> '(e4 c4 gqs4 bqf4 d5 f5)
                        :midi-channel 11
                        :microtones-midi-channel 12
                        :auto-sort nil)))
  (<strong>lowest</strong> chrd))

=&gt; 
PITCH: frequency: 261.626, midi-note: 60, midi-channel: 11 
       <a href="./pitch_lsp.html#robo295">pitch</a>-bend: 0.0 
       degree: 120, data-consistent: T, white-note: C4
       <a href="./utilities_lsp.html#robo967">nearest</a>-chromatic: C4
       src: 1.0, src-ref-<a href="./pitch_lsp.html#robo295">pitch</a>: C4, score-note: C4 
       qtr-sharp: NIL, qtr-flat: NIL, qtr-tone: NIL,  
       micro-tone: NIL, 
       sharp: NIL, flat: NIL, natural: T, 
       octave: 4, c5ths: 0, no-8ve: C, no-8ve-no-acc: C
       show-accidental: T, white-degree: 28, 
       accidental: N, 
       accidental-in-parentheses: NIL, marks: NIL
LINKED-NAMED-OBJECT: previous: NIL, this: NIL, next: NIL
NAMED-OBJECT: id: C4, tag: NIL, 
data: C4
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>lowest</strong> ((c <a href="#robo628">chord</a>))
</pre>


<a name="chord2fmake2dchord"></a>
<a name="robo93"></a><h2 class=robodoc>chord/make-chord [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Create a <a href="#robo628">chord</a> object from a list of note-name symbols.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - A list of note-name symbols or frequencies.
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> keyword arguments:
 - :id. An element of any type that is to be the ID of the <a href="#robo628">chord</a> object
   created.
 - :auto-sort. T or NIL to indicate whether the method should first sort the
   individual <a href="./pitch_lsp.html#robo295">pitch</a> objects created from low to high before returning the
   new <a href="#robo628">chord</a> object. T = sort. Default = T.
 - :midi-channel. An integer that is to be the MIDI channel value to which
   all of the chromatic <a href="./pitch_lsp.html#robo295">pitch</a> objects in the given <a href="#robo628">chord</a> object are to be
   set for playback. Default = 1.
 - :microtones-midi-channel. An integer that is to be the MIDI channel value
   to which all of the <a href="./event_lsp.html#robo209">microtonal</a> <a href="./pitch_lsp.html#robo295">pitch</a> objects in the given <a href="#robo628">chord</a> object
   are to be set for playback. Default = 1. NB: See
   <a href="./player_lsp.html#robo_top_of_doc">player.lsp</a>/<a href="./player_lsp.html#robo380">make-player</a> for details on microtones in MIDI output.  
 - :force-midi-channel. T or NIL to indicate whether to force a given value
   to the MIDI-CHANNEL slot, even if the notes passed to the method are
   already <a href="./pitch_lsp.html#robo295">pitch</a> objects with non-zero MIDI-CHANNEL values.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> A <a href="#robo628">chord</a> object.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">;; Simple usage with default values for keyword arguments
(<strong>make-chord</strong> '(c4 e4 g4 b4 d5 f5))

=&gt;
CHORD: auto-sort: T, marks: NIL, micro-tone: NIL
SCLIST: <a href="./sclist_lsp.html#robo298">sclist</a>-length: 6, bounds-alert: T, copy: T
LINKED-NAMED-OBJECT: previous: NIL, this: NIL, next: NIL
NAMED-OBJECT: id: NIL, tag: NIL, 
data: (
PITCH: frequency: 261.626, midi-note: 60, midi-channel: 0 
[...]
data: C4
PITCH: frequency: 329.628, midi-note: 64, midi-channel: 0 
[...]
data: E4
[...]       
PITCH: frequency: 391.995, midi-note: 67, midi-channel: 0 
[...]
data: G4
[...]       
PITCH: frequency: 493.883, midi-note: 71, midi-channel: 0 
[...]
data: B4
[...]       
PITCH: frequency: 587.330, midi-note: 74, midi-channel: 0 
[...]
data: D5
[...]       
PITCH: frequency: 698.456, midi-note: 77, midi-channel: 0 
[...]
data: F5
)

;; By default the pitches are first sorted low to high
(let ((mc (<strong>make-chord</strong> '(e4 c4 g4 b4 f5 d5))))
  (loop for p in (data mc) collect (data p)))

=&gt; (C4 E4 G4 B4 D5 F5)

;; Setting the :midi-channel and :microtones-midi-channel arguments results in
;; the MIDI-CHANNEL slot of each of the contained <a href="./pitch_lsp.html#robo295">pitch</a> objects being set
;; accordingly, depending on whether it is a chromatic or <a href="./event_lsp.html#robo209">microtonal</a> <a href="./pitch_lsp.html#robo295">pitch</a>
(let ((mc (<strong>make-chord</strong> '(cqs4 e4 gqf4 b4 dqf5 f5) 
                      :midi-channel 11
                      :microtones-midi-channel 12)))
  (loop for p in (data mc) collect (midi-channel p)))

=&gt; (12 11 12 11 12 11)
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defun <strong>make-chord</strong> (note-list &amp;key (id nil) (auto-sort t) (midi-channel 1)
                   (microtones-midi-channel 1) (force-midi-channel t))
</pre>


<a name="chord2fmake2dchord2dfrom2dintervals"></a>
<a name="robo94"></a><h2 class=robodoc>chord/make-chord-from-intervals [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">DATE</p>
<pre> May 1st 2020, Heidhausen
</pre>
<p class="item_name">DESCRIPTION</p>
<pre> Make a <a href="#robo628">chord</a> object from a starting <a href="./pitch_lsp.html#robo295">pitch</a> and a list of intervals in
 <a href="./utilities_lsp.html#robo1004">semitones</a>.  
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - the starting <a href="./pitch_lsp.html#robo295">pitch</a>: symbol or <a href="./pitch_lsp.html#robo295">pitch</a> object
 - the list of intervals in <a href="./utilities_lsp.html#robo1004">semitones</a> (may be fractional if current <a href="./popcorn_lsp.html#robo395">scale</a> is
 <a href="./event_lsp.html#robo209">microtonal</a>) 
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> any keyword argument accepted by <a href="#robo93">make-chord</a>
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> a <a href="#robo628">chord</a> object
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">(<a href="./rthm-seq-bar_lsp.html#robo502">get-pitch-symbols</a> (<strong>make-chord-from-intervals</strong> 'c4 '(6 5 7.5) :midi-channel 7))
--&gt; (C4 FS4 B4 GQF5)
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defun <strong>make-chord-from-intervals</strong> (start-<a href="./pitch_lsp.html#robo295">pitch</a> intervals
                                  &amp;rest keyargs &amp;key &amp;allow-other-keys)
</pre>


<a name="chord2fmorph"></a>
<a name="robo95"></a><h2 class=robodoc>chord/morph [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DATE</p>
<pre> May 3rd 2016, Edinburgh
</pre>
<p class="item_name">DESCRIPTION</p>
<pre> Attempt to <strong>morph</strong> <a href="./utilities_lsp.html#robo921">between</a> two chords by selecting some notes from each
 according to the amount given.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - the first <a href="#robo628">chord</a> object
 - the second <a href="#robo628">chord</a> object
 - the amount to <strong>morph</strong> from <a href="#robo628">chord</a> 1 to 2. This should be a number <a href="./utilities_lsp.html#robo921">between</a> 0
 and 1 where 0 would mean all <a href="#robo628">chord</a> 1, 1 would mean all <a href="#robo628">chord</a> 2 and anything
 else is an actual <strong>morph</strong>.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> A new <a href="#robo628">chord</a> object representing a mixture of pitches from the two
 chords. The length of this will depend on the relative lengths of the two
 chords but the minimum will be the length of the smallest <a href="#robo628">chord</a> and the
 maximum the length of the largest <a href="#robo628">chord</a> (in terms of number of pitches).

 NB If you call this method on an <a href="./sc-set_lsp.html#robo645">sc-set</a> object the subsets and related-sets
 slots will be NIL (i.e. not copied over/morphed from either of the two
 arguments). 
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">(print-simple 
 (<strong>morph</strong> (<a href="#robo93">make-chord</a> '(c4 e4 g4 b4)) (<a href="#robo93">make-chord</a> '(df4 f4 af4 c5)) 0.5))
--&gt; C4 F4 G4 C5 
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>morph</strong> ((c1 <a href="#robo628">chord</a>) (c2 <a href="#robo628">chord</a>) amount)
</pre>


<a name="chord2fno2daccidental"></a>
<a name="robo96"></a><h2 class=robodoc>chord/no-accidental [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Set the SHOW-ACCIDENTAL slot of all <a href="./pitch_lsp.html#robo295">pitch</a> objects within a given <a href="#robo628">chord</a>
 object to NIL. This results in no accidentals for the given <a href="#robo628">chord</a> being printed
 when written to a score, and also excludes the writing of any accidentals
 for that <a href="#robo628">chord</a> in parentheses. 
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - A <a href="#robo628">chord</a> object.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> Always returns NIL.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">;;; Make a <a href="#robo628">chord</a>, print the SHOW-ACCIDENTAL slots of the <a href="./pitch_lsp.html#robo295">pitch</a> objects it
;;; contains; then call the method and print the same slots again to see the
;;; change.

(let ((chrd (<a href="#robo93">make-chord</a> '(cs4 e4 fs4 af4 bf4))))
  (print (loop for p in (data chrd) collect (show-accidental p)))
  (<strong>no-accidental</strong> chrd)
  (print (loop for p in (data chrd) collect (show-accidental p))))

=&gt; 
(T T T T T) 
(NIL NIL NIL NIL NIL)
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>no-accidental</strong> ((c <a href="#robo628">chord</a>))
</pre>


<a name="chord2fnum2dnotes"></a>
<a name="robo97"></a><h2 class=robodoc>chord/num-notes [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DATE</p>
<pre> June 22nd 2019, Heidhausen
</pre>
<p class="item_name">DESCRIPTION</p>
<pre> A helper function to return the number of notes in a <a href="#robo628">chord</a> (which is merely
 the <a href="./sclist_lsp.html#robo298">sclist</a>-length slot as a <a href="#robo628">chord</a> is a child class of <a href="./sclist_lsp.html#robo298">sclist</a>) 
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - the <a href="#robo628">chord</a> object
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> an integer
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>num-notes</strong> ((c <a href="#robo628">chord</a>))
</pre>


<a name="chord2foutput2dmidi2dnote"></a>
<a name="robo98"></a><h2 class=robodoc>chord/output-midi-note [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Generate the MIDI-related data for each <a href="./pitch_lsp.html#robo295">pitch</a> in a given <a href="#robo628">chord</a> object. 
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - A <a href="#robo628">chord</a> object.
 - A number that is the start time in seconds of the given <a href="#robo628">chord</a> within the
   output MIDI file.
 - A decimal number <a href="./utilities_lsp.html#robo921">between</a> 0.0 and 1.0 that is the amplitude of the given
   <a href="#robo628">chord</a> in the output MIDI file.
 - A number that is the duration in seconds of the given <a href="#robo628">chord</a> in the output
   MIDI file.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> The corresponding data in list form.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">;; Generate the MIDI-related data required for a 5-note <a href="#robo628">chord</a> that starts 100
;; seconds into the output MIDI file, with an amplitude of 0.5 and a duration
;; of 13.0 seconds.
(let ((chrd (<a href="#robo93">make-chord</a> '(cs4 e4 fs4 af4 bf4))))
  (<strong>output-midi-note</strong> chrd 100.0 0.5 13.0))

=&gt; (#i(midi time 100.0 keynum 61 duration 13.0 amplitude 0.5 channel -1)
    #i(midi time 100.0 keynum 64 duration 13.0 amplitude 0.5 channel -1)
    #i(midi time 100.0 keynum 66 duration 13.0 amplitude 0.5 channel -1)
    #i(midi time 100.0 keynum 68 duration 13.0 amplitude 0.5 channel -1)
    #i(midi time 100.0 keynum 70 duration 13.0 amplitude 0.5 channel -1))
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>output-midi-note</strong> ((c <a href="#robo628">chord</a>) time amplitude duration)
</pre>


<a name="chord2fpitch2d"></a>
<a name="robo99"></a><h2 class=robodoc>chord/pitch- [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Determine the difference <a href="./utilities_lsp.html#robo921">between</a> the <a href="./event_lsp.html#robo202">lowest</a> <a href="./pitch_lsp.html#robo295">pitch</a> of two chords. This
 method can be used, for example, to compare the written and sounding
 versions of a <a href="#robo628">chord</a> to determine transposition. 

 If the lower <a href="#robo628">chord</a> is passed as the first argument, the method will return
 a negative number.

 NB: This method takes <a href="./pitch_lsp.html#robo295">pitch</a> bend into consideration when calculating. 
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - A first <a href="#robo628">chord</a> object.
 - A second <a href="#robo628">chord</a> object.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> A positive or negative decimal number.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">;; The method measures the distance <a href="./utilities_lsp.html#robo921">between</a> the first (<a href="./event_lsp.html#robo202">lowest</a>) pitches of the
;;; <a href="#robo628">chord</a> only.
(let ((chrd-1 (<a href="#robo93">make-chord</a> '(c4 e4 g4)))
      (chrd-2 (<a href="#robo93">make-chord</a> '(d4 e4 fs4 a4))))
  (<strong>pitch-</strong> chrd-2 chrd-1))

=&gt; 2.0

;;; Passing the lower <a href="#robo628">chord</a> as the first argument produces a negative result
(let ((chrd-1 (<a href="#robo93">make-chord</a> '(c4 e4 g4)))
      (chrd-2 (<a href="#robo93">make-chord</a> '(d4 e4 fs4 a4))))
  (<strong>pitch-</strong> chrd-1 chrd-2))

=&gt; -2.0
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>pitch-</strong> ((c1 <a href="#robo628">chord</a>) (c2 <a href="#robo628">chord</a>))
</pre>


<a name="chord2fpitch2dor2dchord3d"></a>
<a name="robo100"></a><h2 class=robodoc>chord/pitch-or-chord= [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">AUTHOR</p>
<pre> Daniel Ross (mr.danielross[at]gmail[dot]com) 
</pre>
<p class="item_name">DATE</p>
<pre> Wed 18 Sep 2019 17:37:39 BST - London
</pre>
<p class="item_name">DESCRIPTION</p>
<pre> Convenience method, test to see if the <a href="./pitch_lsp.html#robo295">pitch</a>-or-<a href="#robo628">chord</a> slots of two <a href="./event_lsp.html#robo444">event</a>
 objects are the same. See other related methods in <a href="./event_lsp.html#robo_top_of_doc">event.lsp</a>
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - a <a href="./pitch_lsp.html#robo295">pitch</a> or <a href="#robo628">chord</a> object
 - a <a href="./pitch_lsp.html#robo295">pitch</a> or <a href="#robo628">chord</a> object
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> - T or NIL to indicate whether or not <a href="./event_lsp.html#robo180">enharmonic</a> pitches are considered 
   equal. T = <a href="./event_lsp.html#robo180">enharmonic</a> pitches are considered equal. Default = NIL. 
 - a number to indicate the frequency deviation allowed before returning NIL.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> T if the values of the two specified <a href="./pitch_lsp.html#robo295">pitch</a> or <a href="#robo628">chord</a> objects are equal,
 otherwise NIL. 
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">;; Comparison of equal <a href="./pitch_lsp.html#robo295">pitch</a> objects created using note-name symbols returns T 
(let ((p1 (<a href="./pitch_lsp.html#robo348">make-pitch</a> 'c4))
      (p2 (<a href="./pitch_lsp.html#robo348">make-pitch</a> 'c4)))
  (<strong>pitch-or-chord=</strong> p1 p2))

=&gt; T 

(let ((p1 (<a href="./pitch_lsp.html#robo348">make-pitch</a> 'c4))
      (p2 (<a href="./pitch_lsp.html#robo348">make-pitch</a> 'bs3)))
  (<strong>pitch-or-chord=</strong> p1 p2))

=&gt; NIL

(let ((p1 (<a href="./pitch_lsp.html#robo348">make-pitch</a> 'c4))
      (p2 (<a href="./pitch_lsp.html#robo348">make-pitch</a> 'bs3)))
  (<strong>pitch-or-chord=</strong> p1 p2 t))

=&gt; T

(let ((p1 (<a href="./pitch_lsp.html#robo348">make-pitch</a> 'c4))
      (c1 (<a href="#robo93">make-chord</a> '(c4 e4 g4))))
  (<strong>pitch-or-chord=</strong> p1 c1))

=&gt; NIL

(let ((c1 (<a href="#robo93">make-chord</a> '(c4 e4 g4)))
      (c2 (<a href="#robo93">make-chord</a> '(c4 e4))))
  (<strong>pitch-or-chord=</strong> c1 c2))

=&gt; NIL

(let ((c1 (<a href="#robo93">make-chord</a> '(c4 e4 g4)))
      (c2 (<a href="#robo93">make-chord</a> '(bs4 ff4 g4))))
  (<strong>pitch-or-chord=</strong> c1 c2))

=&gt; NIL

(let ((c1 (<a href="#robo93">make-chord</a> '(c4 e4 g4)))
      (c2 (<a href="#robo93">make-chord</a> '(bs3 ff4 g4))))
  (<strong>pitch-or-chord=</strong> c1 c2 t))

=&gt; T

;; Chords with only one <a href="./pitch_lsp.html#robo295">pitch</a> are the same as <a href="./pitch_lsp.html#robo295">pitch</a> object with the same <a href="./pitch_lsp.html#robo295">pitch</a>.
(let ((c (<a href="#robo93">make-chord</a> '(c4)))
      (p (<a href="./pitch_lsp.html#robo348">make-pitch</a> 'c4)))
  (<strong>pitch-or-chord=</strong> c p))

=&gt; T
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>pitch-or-chord=</strong> ((c1 <a href="#robo628">chord</a>) (c2 <a href="#robo628">chord</a>)
                            &amp;optional <a href="./slippery-chicken-edit_lsp.html#robo721">enharmonics</a>-are-equal
                              (frequency-tolerance 0.01))
</pre>


<a name="chord2frespell2dchord"></a>
<a name="robo101"></a><h2 class=robodoc>chord/respell-chord [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Respell the pitches of a given <a href="#robo628">chord</a> object to improve interval structure;
 i.e., removing augmented intervals etc.

 This method respells pitches from the bottom of the <a href="#robo628">chord</a> upwards. It does
 not process the pitches downwards again once pitches has been
 changed. Instead, it reattempts the whole respelling with the <a href="./event_lsp.html#robo180">enharmonic</a> of
 the <a href="./event_lsp.html#robo202">lowest</a> <a href="./pitch_lsp.html#robo295">pitch</a> to determine which spelling produces the fewest
 accidentals.

 NB: Respelling pitches in a <a href="#robo628">chord</a> is a rather complex process and is by no
     means fool-proof. The process employed here is based on avoiding <a href="./sc-map_lsp.html#robo586">double</a>
     accidentals; thus, since both FS4 and BS4 have single sharps, the BS4
     won't be changed to C5.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - A <a href="#robo628">chord</a> object.
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> - T or NIL to indicate whether to print feedback from the process to the
   listener. T = print. Default = NIL.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> A <a href="#robo628">chord</a> object. 
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">(let ((chrd (<a href="#robo93">make-chord</a> '(a3 ds4 f4 fs5 c6))))
  (<a href="./pitch_lsp.html#robo359">pitch-list-to-symbols</a> (data (<strong>respell-chord</strong> chrd t))))

=&gt; (A3 EF4 F4 GF5 C6)
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>respell-chord</strong> ((c <a href="#robo628">chord</a>) &amp;optional verbose)
</pre>


<a name="chord2frm2dpitches"></a>
<a name="robo102"></a><h2 class=robodoc>chord/rm-pitches [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Remove the specified pitches from an existing <a href="#robo628">chord</a> object.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - A <a href="#robo628">chord</a> object.
 - The pitches to remove from that object. These can be <a href="./pitch_lsp.html#robo295">pitch</a> objects or any
   data that can be passed to <a href="./pitch_lsp.html#robo348">make-pitch</a>, or indeed lists of these, as they
   will be flattened. NB: No warning/error will be signalled if the pitches
   to be removed are not actually in the <a href="#robo628">chord</a>.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> - A <a href="#robo628">chord</a> object.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">(let ((ch (<a href="#robo93">make-chord</a> '(af3 bf3 c4 e4 g4 a4 b4 cs5 ds5 fs5))))
  (print (<a href="./rthm-seq-bar_lsp.html#robo502">get-pitch-symbols</a> ch))
  (<strong>rm-pitches</strong> ch 'bf3)
  (print (<a href="./rthm-seq-bar_lsp.html#robo502">get-pitch-symbols</a> ch))
  (<strong>rm-pitches</strong> ch 'af3 'a4 'b4)
  (print (<a href="./rthm-seq-bar_lsp.html#robo502">get-pitch-symbols</a> ch))
  (<strong>rm-pitches</strong> ch '(cs5 ds5 fs5))
  (print (<a href="./rthm-seq-bar_lsp.html#robo502">get-pitch-symbols</a> ch)))

=&gt;
(AF3 BF3 C4 E4 G4 A4 B4 CS5 DS5 FS5) 
(AF3 C4 E4 G4 A4 B4 CS5 DS5 FS5) 
(C4 E4 G4 CS5 DS5 FS5) 
(C4 E4 G4) 
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>rm-pitches</strong> ((c <a href="#robo628">chord</a>) &amp;rest pitches)
</pre>


<a name="chord2fround2dto2dnearest"></a>
<a name="robo103"></a><h2 class=robodoc>chord/round-to-nearest [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DATE</p>
<pre> October 18th 2018
</pre>
<p class="item_name">DESCRIPTION</p>
<pre> Round the pitches in the <a href="#robo628">chord</a> to the <a href="./utilities_lsp.html#robo967">nearest</a> pitches in the current
 or given <a href="./popcorn_lsp.html#robo395">scale</a>. See the <a href="./pitch_lsp.html#robo295">pitch</a> class for more details. 
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> the <a href="#robo628">chord</a> object
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> keyword argument:
 :<a href="./popcorn_lsp.html#robo395">scale</a>. The <a href="./popcorn_lsp.html#robo395">scale</a> to use when rounding. (Common Music tuning object or
 symbol). If a symbol, then 'chromatic-<a href="./popcorn_lsp.html#robo395">scale</a>, 'twelfth-tone, or 'quarter-tone
 only at present. Default is the current <a href="./popcorn_lsp.html#robo395">scale</a> as set by (<a href="./cm_lsp.html#robo136">in-scale</a> :...).
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> the modified <a href="#robo628">chord</a> object
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>round-to-nearest</strong> ((c <a href="#robo628">chord</a>) &amp;key (<a href="./popcorn_lsp.html#robo395">scale</a> <a href="./cm_lsp.html#robo4">cm</a>::*<a href="./popcorn_lsp.html#robo395">scale</a>*))
</pre>


<a name="chord2fset2dmidi2dchannel"></a>
<a name="robo104"></a><h2 class=robodoc>chord/set-midi-channel [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Set the MIDI channel of the <a href="./pitch_lsp.html#robo295">pitch</a> objects in a given <a href="#robo628">chord</a> object to the
 specified values. 
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - A <a href="#robo628">chord</a> object.
 - An integer that is to be the MIDI channel for chromatic pitches in the
   given <a href="#robo628">chord</a> object.
 - An integer that is to be the MIDI channel for <a href="./event_lsp.html#robo209">microtonal</a> pitches in the
   given <a href="#robo628">chord</a> object. NB: See <a href="./player_lsp.html#robo_top_of_doc">player.lsp</a>/<a href="./player_lsp.html#robo380">make-player</a> for details on
   microtones in MIDI output.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> Always returns NIL.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">;; Returns NIL
(let ((chrd (<a href="#robo93">make-chord</a> '(c4 e4 gqs4 bqf4 d5 f5)
                          :midi-channel 11
                          :microtones-midi-channel 12)))
  (<strong>set-midi-channel</strong> chrd 3 4))

=&gt; NIL

;; Print the value of the MIDI slot for each of the <a href="./pitch_lsp.html#robo295">pitch</a> objects contained in
;; the <a href="#robo628">chord</a> object before and after setting
(let ((chrd (<a href="#robo93">make-chord</a> '(c4 e4 gqs4 bqf4 d5 f5)
                          :midi-channel 11
                          :microtones-midi-channel 12)))
  (print (loop for p in (data chrd) collect (midi-channel p)))
  (<strong>set-midi-channel</strong> chrd 3 4)
  (print (loop for p in (data chrd) collect (midi-channel p))))

=&gt;
(11 11 12 12 11 11) 
(3 3 4 4 3 3)
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>set-midi-channel</strong> ((c <a href="#robo628">chord</a>) midi-channel
                             &amp;optional microtones-midi-channel)
</pre>


<a name="chord2fsimilarity"></a>
<a name="robo105"></a><h2 class=robodoc>chord/similarity [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DATE</p>
<pre> 12th August 2015, Wals, Austria
</pre>
<p class="item_name">DESCRIPTION</p>
<pre> Calculates the <strong>similarity</strong> of two <a href="#robo628">chord</a> objects on a <a href="./popcorn_lsp.html#robo395">scale</a> of 0.0-1.0. This
 weights equally the number of common notes and the interval structure
 <a href="./utilities_lsp.html#robo921">between</a> adjacent notes.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - the first <a href="#robo628">chord</a> object
 - the second <a href="#robo628">chord</a> object
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> - T or NIL to indicate whether <a href="./event_lsp.html#robo180">enharmonic</a> notes should be treated as
   equal. Even when NIL, <a href="./event_lsp.html#robo180">enharmonic</a> equivalents will still score high
   overall, just not perfect.
 - T or NIL to indicate whether octave equivalents such as f#1 and f#2
   should result in higher scores.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> a number <a href="./utilities_lsp.html#robo921">between</a> 0.0 and 1.0, with 1.0 being the same exact <a href="#robo628">chord</a> and 0.0
 being two chords with no notes and no adjacent intervals in common.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">(<strong>similarity</strong> (<a href="#robo93">make-chord</a> '(c4 e4 g4)) (<a href="#robo93">make-chord</a> '(c4 e4 g4)))
=&gt; 1.0
(<strong>similarity</strong> (<a href="#robo93">make-chord</a> '(c4 e4 g4)) (<a href="#robo93">make-chord</a> '(df4 f4 af4)))
=&gt; 0.5
(<strong>similarity</strong> (<a href="#robo93">make-chord</a> '(c1 cs1 f1 b1)) (<a href="#robo93">make-chord</a> '(d1 e1 fs1 gs1 as1)))
=&gt; 0.0
(<strong>similarity</strong> (<a href="#robo93">make-chord</a> '(cs4 es4 gs4)) (<a href="#robo93">make-chord</a> '(df4 f4 af4)))
=&gt; 1.0
(<strong>similarity</strong> (<a href="#robo93">make-chord</a> '(cs4 es4 gs4)) (<a href="#robo93">make-chord</a> '(df4 f4 af4)) nil)
=&gt; 0.75
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>similarity</strong> ((c1 <a href="#robo628">chord</a>) (c2 <a href="#robo628">chord</a>)
                       &amp;optional (<a href="./slippery-chicken-edit_lsp.html#robo721">enharmonics</a>-are-equal t)
                         (octaves-are-true nil))
</pre>


<a name="chord2fsingle2dpitch2dchord2dto2dpitch"></a>
<a name="robo106"></a><h2 class=robodoc>chord/single-pitch-chord-to-pitch [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">AUTHOR</p>
<pre> Daniel Ross (mr.danielross[at]gmail[dot]com) 
</pre>
<p class="item_name">DATE</p>
<pre> Thu 14 Nov 2019 07:44:02 GMT London
</pre>
<p class="item_name">DESCRIPTION</p>
<pre> Turn a <a href="#robo628">chord</a> object with only one <a href="./pitch_lsp.html#robo295">pitch</a> in its <a href="#robo628">chord</a> slot into a <a href="./pitch_lsp.html#robo295">pitch</a>
 object.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> A <a href="#robo628">chord</a> object
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> NIL
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> The new <a href="./pitch_lsp.html#robo295">pitch</a> object if the original <a href="#robo628">chord</a> contained a single <a href="./pitch_lsp.html#robo295">pitch</a>,
 otherwise the original <a href="#robo628">chord</a> object. 
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">(data (<strong>single-pitch-chord-to-pitch</strong> (<a href="#robo93">make-chord</a> '(a4))))
=&gt; A4
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>single-pitch-chord-to-pitch</strong> ((c <a href="#robo628">chord</a>))
</pre>


<a name="chord2fsort2dpitches"></a>
<a name="robo107"></a><h2 class=robodoc>chord/sort-pitches [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Sort the <a href="./pitch_lsp.html#robo295">pitch</a> objects contained within a given <a href="#robo628">chord</a> object and return
 them as a list of <a href="./pitch_lsp.html#robo295">pitch</a> objects. 

 As an optional argument, 'ascending or 'descending can be given to indicate
 whether to sort from low to high or high to low.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - A <a href="#robo628">chord</a> object. 
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> - The symbol 'ASCENDING or 'DESCENDING to indicate whether to sort the
   given <a href="./pitch_lsp.html#robo295">pitch</a> objects from low to high or high to low. 
   Default = 'ASCENDING. 
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> Returns the <a href="#robo628">chord</a> with its pitches sorted.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">;; Apply the method with no optional argument (defaults to 'ASCENDING) and
;; collect and print the data of the <a href="./pitch_lsp.html#robo295">pitch</a> objects in the resulting list
(let ((chrd (<a href="#robo93">make-chord</a> '(d5 c4 gqs4 bqf5 f5 e4)
                        :midi-channel 11
                        :microtones-midi-channel 12)))
  (print (loop for p in (<strong>sort-pitches</strong> chrd) collect (data p))))

=&gt; (C4 E4 GQS4 D5 F5 BQF5)

;; Sort from high to low
(let ((chrd (<a href="#robo93">make-chord</a> '(d5 c4 gqs4 bqf5 f5 e4)
                        :midi-channel 11
                        :microtones-midi-channel 12)))
  (print (loop for p in (<strong>sort-pitches</strong> chrd 'descending) collect (data p))))

=&gt; (BQF5 F5 D5 GQS4 E4 C4)
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>sort-pitches</strong> ((c <a href="#robo628">chord</a>) &amp;optional (order 'ascending))
</pre>


<a name="chord2fthin"></a>
<a name="robo108"></a><h2 class=robodoc>chord/thin [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DATE</p>
<pre> October 25th 2018, Heidhausen
</pre>
<p class="item_name">DESCRIPTION</p>
<pre> Reduce the number of notes in a <a href="#robo628">chord</a>. See the <a href="./sc-set_lsp.html#robo645">sc-set</a> class method for
 details. 
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>thin</strong> ((c <a href="#robo628">chord</a>) &amp;key (strength 5) remove target <a href="./rthm-seq-palette_lsp.html#robo540">invert</a>)
</pre>


<a name="chord2ftop2dto2dbottom"></a>
<a name="robo109"></a><h2 class=robodoc>chord/top-to-bottom [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DATE</p>
<pre> May 1st 2020, Heidhausen
</pre>
<p class="item_name">DESCRIPTION</p>
<pre> Transpose a <a href="#robo628">chord</a> so that it's current top note is the new bottom note. NB
 This is destructive by default
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - a <a href="#robo628">chord</a> object
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> keywords arguments:
 - :destructively. Whether to modify the <a href="#robo628">chord</a> object or return a new
 <a href="#robo628">chord</a>. Default = T
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> the modified <a href="#robo628">chord</a> object
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">(print-simple (<strong>top-to-bottom</strong> (<a href="#robo93">make-chord</a> '(c4 e4 g4 b4))))
--&gt; NIL: B4 EF5 FS5 BF5 
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>top-to-bottom</strong> ((c <a href="#robo628">chord</a>) &amp;key (destructively t))
</pre>


<a name="chord2ftranspose"></a>
<a name="robo110"></a><h2 class=robodoc>chord/transpose [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Transpose the pitches of a given <a href="#robo628">chord</a> object by a specified number of
 <a href="./utilities_lsp.html#robo1004">semitones</a>. The specified number can be positive or negative, and may
 contain a decimal segment for <a href="./event_lsp.html#robo209">microtonal</a> transposition. If passed a decimal
 number, the resulting note-names will be scaled to the <a href="./utilities_lsp.html#robo967">nearest</a> degree of
 the current tuning. 
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - A <a href="#robo628">chord</a> object.  
 - A positive or negative integer or decimal number indicating the number of
   <a href="./utilities_lsp.html#robo1004">semitones</a> by which the pitches of the given <a href="#robo628">chord</a> object are to be
   transposed.
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> keyword arguments
 - :destructively. Whether to change the internal structure of the first
   argument or leave it unchanged, returning a new transposed <a href="#robo628">chord</a> object
   instead. Default = T. 
 - :do-related-sets. T or NIL to indicate whether to <strong>transpose</strong> any contents
   of the RELATED-SETS slot as well. T = <strong>transpose</strong>.  Default = NIL.
 - :<a href="./event_lsp.html#robo202">lowest</a>. Don't <strong>transpose</strong> pitches in the original <a href="#robo628">chord</a> which are lower
   than  this argument. Default = NIL but eventually via the
   <a href="./pitch_lsp.html#robo377">transpose-pitch-list</a> function C-1 (midi note 0) 
 - :<a href="#robo90">highest</a>. Don't <strong>transpose</strong> pitches in the original <a href="#robo628">chord</a> which are higher
   than this argument. Default = NIL but eventually B8 (midi note 119)
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> the transposed <a href="#robo628">chord</a> object
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">;; Returns a <a href="#robo628">chord</a> object 
(let ((chrd (<a href="#robo93">make-chord</a> '(c4 e4 g4))))
  (<strong>transpose</strong> chrd 3))

=&gt;
CHORD: auto-sort: T, marks: NIL, micro-tone: NIL
SCLIST: <a href="./sclist_lsp.html#robo298">sclist</a>-length: 3, bounds-alert: T, copy: T
LINKED-NAMED-OBJECT: previous: NIL, this: NIL, next: NIL
NAMED-OBJECT: id: NIL, tag: NIL, 
data: (
[...]
)

;; Accepts positive and negative integers and decimal numbers
(let ((chrd (<a href="#robo93">make-chord</a> '(c4 e4 g4))))
  (<a href="./pitch_lsp.html#robo359">pitch-list-to-symbols</a> (data (<strong>transpose</strong> chrd 3))))

=&gt; (EF4 G4 BF4)

(let ((chrd (<a href="#robo93">make-chord</a> '(c4 e4 g4))))
  (<a href="./pitch_lsp.html#robo359">pitch-list-to-symbols</a> (data (<strong>transpose</strong> chrd -3))))

=&gt; (A3 CS4 E4)

(let ((chrd (<a href="#robo93">make-chord</a> '(c4 e4 g4))))
  (<a href="./pitch_lsp.html#robo359">pitch-list-to-symbols</a> (data (<strong>transpose</strong> chrd -3.17))))

=&gt; (AQF3 CQS4 EQF4)
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>transpose</strong> ((c <a href="#robo628">chord</a>) <a href="./utilities_lsp.html#robo1004">semitones</a>
                      &amp;key (destructively t) ; do-related-sets
                        ;; MDE Tue Aug 21 19:49:47 2018
                        <a href="./event_lsp.html#robo202">lowest</a> <a href="#robo90">highest</a>
                        ;; MDE Thu Mar  4 11:48:29 2021, Heidhausen
                        (complete-error nil))
</pre>


<a name="chord2fwrap"></a>
<a name="robo111"></a><h2 class=robodoc>chord/wrap [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo628">chord</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DATE</p>
<pre> March 5th 2016, Edinburgh
</pre>
<p class="item_name">DESCRIPTION</p>
<pre> Take the <a href="#robo90">highest</a> <a href="./pitch_lsp.html#robo295">pitch</a> and <strong>wrap</strong> it around to the bottom, placing it at the
 same interval to the former <a href="./event_lsp.html#robo202">lowest</a> <a href="./pitch_lsp.html#robo295">pitch</a> as the <a href="#robo90">highest</a> <a href="./pitch_lsp.html#robo295">pitch</a> is to the
 next-to-<a href="#robo90">highest</a> <a href="./pitch_lsp.html#robo295">pitch</a>. Then, by default, we shift (<a href="./rthm-seq-bar_lsp.html#robo524">transpose</a>) the <a href="#robo628">chord</a> so
 that the next-to-<a href="#robo90">highest</a> <a href="./pitch_lsp.html#robo295">pitch</a> is the former <a href="#robo90">highest</a> <a href="./pitch_lsp.html#robo295">pitch</a>.

 NB If the &lt;<a href="./rthm-seq-bar_lsp.html#robo524">transpose</a>&gt; optional argument is T, then the <a href="./event_lsp.html#robo202">lowest</a> and <a href="#robo90">highest</a>
 notes of the <a href="#robo628">chord</a> will always remain the same no matter how many times this
 operation is performed.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - A <a href="#robo628">chord</a> object
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> - the number of times to perform this operation
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> The original <a href="#robo628">chord</a> object with the new pitches (<a href="./slippery-chicken_lsp.html#robo789">clone</a> in advance if
 necessary) 
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">(<a href="./rthm-seq-bar_lsp.html#robo502">get-pitch-symbols</a> (<strong>wrap</strong> (<a href="#robo93">make-chord</a> '(c4 e4 g4 b4))))
=&gt; (C4 E4 GS4 B4)

(<a href="./rthm-seq-bar_lsp.html#robo502">get-pitch-symbols</a> (<strong>wrap</strong> (<a href="#robo93">make-chord</a> '(c4 fs4 b4 f5))))
=&gt; (C4 GF4 C5 F5)

(<a href="./rthm-seq-bar_lsp.html#robo502">get-pitch-symbols</a> (<strong>wrap</strong> (<a href="#robo93">make-chord</a> '(df3 c4 fs4 b4 f5))))
=&gt; (DF3 G3 FS4 C5 F5)

(<a href="./rthm-seq-bar_lsp.html#robo502">get-pitch-symbols</a> (<strong>wrap</strong> (<a href="#robo93">make-chord</a> '(df3 c4 fs4 b4 f5)) 2))
=&gt; (DF3 GF3 C4 B4 F5)

(<a href="./rthm-seq-bar_lsp.html#robo502">get-pitch-symbols</a> (<strong>wrap</strong> (<a href="#robo93">make-chord</a> '(d4 f4 bf4 e5 b5)) 1 nil))
=&gt; (G3 D4 F4 BF4 E5)
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>wrap</strong> ((c <a href="#robo628">chord</a>) &amp;optional (num-times 1) (<a href="./rthm-seq-bar_lsp.html#robo524">transpose</a> t))
</pre>


<a name="sclist2fchord"></a>
<a name="robo628"></a><h2 class=robodoc>sclist/chord [ Classes ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="./sclist_lsp.html#robo298">sclist</a> ] [ <a href="./robo_classes.html#robo_top_of_doc">Classes</a> ]</p>
<p class="item_name">NAME</p>
<pre> <strong>chord</strong>

 File:             <a href="#robo_top_of_doc">chord.lsp</a>

 Class Hierarchy:  <a href="./named-object_lsp.html#robo625">named-object</a> -&gt; <a href="./linked-named-object_lsp.html#robo309">linked-named-object</a> -&gt; <a href="./sclist_lsp.html#robo298">sclist</a> -&gt; <strong>chord</strong>

 Version:          1.1.0

 Project:          slippery chicken (algorithmic composition)

 Purpose:          Implementation of the <strong>chord</strong> class that is simply an
                   <a href="./sclist_lsp.html#robo298">sclist</a> whose data is a list of <a href="./pitch_lsp.html#robo295">pitch</a> instances.   

 Author:           Michael Edwards: m@michael-edwards.org

 Creation date:    July 28th 2001

 $$ Last modified:  16:20:27 Sat Mar 16 2024 CET

 SVN ID: $Id$
</pre>

</div> <!-- content -->
<div id="footer">
<p>Generated from ./../../src/chord.lsp with <a href="http://www.xs4all.nl/~rfsber/Robo/robodoc.html">ROBODoc</a> V4.99.44 on 2024-08-13 16:13:20</p>
</div> <!-- footer -->
</body>
</html>
