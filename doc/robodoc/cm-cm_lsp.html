<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-type" content="text/html; charset=ISO-8859-1" />
<link rel="stylesheet" href="./robodoc.css" type="text/css" />
<script src="./robodoc.js"></script>
<title>cm-cm.lsp</title>
<!-- Source: ./../../src/cm-cm.lsp -->
<!-- Generated with ROBODoc Version 4.99.44 (Oct 31 2021) -->
</head>
<script type=text/javascript src=../head-foot.js></script>
<body>
<div id="content">
<script type="text/javascript">header("../");</script>

<div id="logo">
<a name="robo_top_of_doc"></a>
</div> <!-- logo -->
<div id="navigation">
<a class="menuitem" href="./toc_index.html#top">Table of Contents</a>
<a class="menuitem" href="./robo_sourcefiles.html#top">Sourcefiles</a>
<a class="menuitem" href="./roboindex.html#top">Index</a>
<a class="menuitem" href="./robo_parameters.html#top">Global Parameters</a>
<a class="menuitem" href="./robo_classes.html#top">Classes</a>
<a class="menuitem" href="./robo_functions.html#top">Functions</a>
<a class="menuitem" href="./robo_modules.html#top">Modules</a>
<a class="menuitem" href="./robo_methods.html#top">Methods</a>
</div> <!-- navigation -->


<a name="sc2fcm2dcm"></a>
<a name="robo5"></a><h2 class=robodoc>sc/cm-cm [ Modules ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="./robo_modules.html#robo_top_of_doc">Modules</a> ]</p>
<p class="item_name">NAME</p>
<pre> <a href="./cm_lsp.html#robo4">cm</a>

 File:             <a href="#robo_top_of_doc">cm-cm.lsp</a>

 Class Hierarchy:  none (no classes defined)

 Version:          1.1.0

 Project:          slippery chicken (algorithmic composition)

 Purpose:          Definition of common-music functions etc. that need to be
                   in the <a href="./cm_lsp.html#robo4">cm</a> <a href="./package_lsp.html#robo15">package</a> 

 Author:           Michael Edwards: m@michael-edwards.org

 Creation date:    26th March 2020 (abstracted out of <a href="./cm_lsp.html#robo_top_of_doc">cm.lsp</a>)

 $$ Last modified:  13:50:33 Tue May 20 2025 CEST

 SVN ID: $Id$
</pre>


<a name="cm2fmidi2dfile2dhigh2dlow"></a>
<a name="robo139"></a><h2 class=robodoc>cm/midi-file-high-low [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="./cm_lsp.html#robo4">cm</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">DATE</p>
<pre> 30-Dec-2010
</pre>
<p class="item_name">DESCRIPTION</p>
<pre> Print the <a href="./event_lsp.html#robo199">highest</a> and <a href="./chord_lsp.html#robo94">lowest</a> <a href="./pitch_lsp.html#robo297">pitch</a> in a specified MIDI file as a MIDI note
 number. 

 NB: This is a Common Music function and as such must be called with the
     <a href="./package_lsp.html#robo15">package</a> qualifier <a href="./cm_lsp.html#robo4">cm</a>:: if used within slippery chicken.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - The path (including the name) to the MIDI file.
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> - An integer or NIL to indicate which track in the specified MIDI file is
   to be accessed. If NIL, all tracks will be accessed. NB: CM (and
   therefore <a href="./slippery-chicken_lsp.html#robo632">slippery-chicken</a> too) generates some MIDI files by writing each
   channel to a different track, so the "track" would seem synonymous with
   "channel" here. 
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> Two integer values (using the values function) that are the <a href="./event_lsp.html#robo199">highest</a> and
 <a href="./chord_lsp.html#robo94">lowest</a> pitches in the specified MIDI file.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">(<a href="./cm_lsp.html#robo4">cm</a>::<strong>midi-file-high-low</strong> "/tmp/multi-ps.mid")

=&gt; 72, 60
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defun <strong>midi-file-high-low</strong> (file &amp;optional track)
</pre>


<a name="cm2fmidi2dfile2done2dnote"></a>
<a name="robo140"></a><h2 class=robodoc>cm/midi-file-one-note [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="./cm_lsp.html#robo4">cm</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Write all midi notes in the file out to a new one-channel file using the
 single <a href="./pitch_lsp.html#robo297">pitch</a> &lt;note&gt; and channel number &lt;channel&gt;.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - A string that is the file path, including file-name and extension.
 - A note-name symbol or MIDI-note integer that is the <a href="./pitch_lsp.html#robo297">pitch</a> to write.
 - An integer that is the channel to which the output should be written
   (1-based) 
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> - An integer that is the an existing MIDI channel in the original file. If
   this argument is given, only notes on this channel of the original file
   will be written (1-based).
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> The path to the new file.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">(<a href="./cm_lsp.html#robo4">cm</a>::<strong>midi-file-one-note</strong> "/tmp/multi-ps.mid" 'c4 1)
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defun <strong>midi-file-one-note</strong> (file note channel &amp;optional old-channel)
</pre>


<a name="cm2fparse2dmidi2dfile"></a>
<a name="robo149"></a><h2 class=robodoc>cm/parse-midi-file [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="./cm_lsp.html#robo4">cm</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Return Common Music MIDI events in the specified file as a list.

 NB: This is a Common Music function and as such must be called with the
     <a href="./package_lsp.html#robo15">package</a> qualifier <a href="./cm_lsp.html#robo4">cm</a>:: if used within slippery chicken.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - The path (including the file name) to the MIDI file.
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> - An integer or NIL to indicate which track in the specified MIDI file is
   to be accessed. If NIL, all tracks will be accessed. NB: CM (and
   therefore <a href="./slippery-chicken_lsp.html#robo632">slippery-chicken</a> too) generates some MIDI files by writing each
   channel to a different track, so the "track" would seem synonymous with
   "channel" here. 
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> The CM data for the MIDI events in the specified file, and the number of
 events. 
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">(<a href="./cm_lsp.html#robo4">cm</a>::<strong>parse-midi-file</strong> "/tmp/multi-ps.mid")

=&gt;
(#i(midi-<a href="./tempo_lsp.html#robo302">tempo</a>-change time 0.0 usecs 357142)
 #i(midi-time-signature time 0.0 numerator 2 denominator 4 clocks 24 32nds 8)
 #i(midi time 0.0 keynum 36 duration 0.357142 amplitude 0.09448819 channel 15)
 #i(midi-<a href="./tempo_lsp.html#robo302">tempo</a>-change time 0.0 usecs 357142)
 #i(midi-time-signature time 0.0 numerator 2 denominator 4 clocks 24 32nds 8)
 #i(midi-<a href="./tempo_lsp.html#robo302">tempo</a>-change time 0.0 usecs 357142)
 #i(midi time 0.178571 keynum 66 duration 0.178571 amplitude 0.09448819 channel 15)
 #i(midi time 0.357142 keynum 68 duration 0.0892855 amplitude 0.09448819 channel 15)
 #i(midi time 0.357142 keynum 40 duration 0.357142 amplitude 0.09448819 channel 15)
 #i(midi time 0.6249985 keynum 66 duration 0.0892855 amplitude 0.09448819 channel 15)
 #i(midi-time-signature time 0.714284 numerator 3 denominator 4 clocks 24 32nds 8)
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defun <strong>parse-midi-file</strong> (file &amp;optional track <a href="./tempo_lsp.html#robo302">tempo</a>)
</pre>

</div> <!-- content -->
<div id="footer">
<p>Generated from ./../../src/cm-cm.lsp with <a href="http://www.xs4all.nl/~rfsber/Robo/robodoc.html">ROBODoc</a> V4.99.44 on 2025-08-13 11:15:10</p>
</div> <!-- footer -->
</body>
</html>
