<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-type" content="text/html; charset=ISO-8859-1" />
<link rel="stylesheet" href="./robodoc.css" type="text/css" />
<script src="./robodoc.js"></script>
<title>ensemble.lsp</title>
<!-- Source: ./../../src/ensemble.lsp -->
<!-- Generated with ROBODoc Version 4.99.44 (Oct 31 2021) -->
</head>
<script type=text/javascript src=../head-foot.js></script>
<body>
<div id="content">
<script type="text/javascript">header("../");</script>

<div id="logo">
<a name="robo_top_of_doc"></a>
</div> <!-- logo -->
<div id="navigation">
<a class="menuitem" href="./toc_index.html#top">Table of Contents</a>
<a class="menuitem" href="./robo_sourcefiles.html#top">Sourcefiles</a>
<a class="menuitem" href="./roboindex.html#top">Index</a>
<a class="menuitem" href="./robo_parameters.html#top">Global Parameters</a>
<a class="menuitem" href="./robo_classes.html#top">Classes</a>
<a class="menuitem" href="./robo_functions.html#top">Functions</a>
<a class="menuitem" href="./robo_modules.html#top">Modules</a>
<a class="menuitem" href="./robo_methods.html#top">Methods</a>
</div> <!-- navigation -->


<a name="ensemble2fadd2dplayer"></a>
<a name="robo153"></a><h2 class=robodoc>ensemble/add-player [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo412">ensemble</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Add a <a href="./player_lsp.html#robo296">player</a> to an existing <a href="#robo412">ensemble</a>. It will be added at the end of the
 list. 
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - The <a href="#robo412">ensemble</a> object.
 - The new <a href="./player_lsp.html#robo296">player</a>, either as a <a href="./player_lsp.html#robo296">player</a> object or symbol.  If the latter this
   becomes the id of the <a href="./player_lsp.html#robo296">player</a> we'll create. 
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> keyword arguments:
 - :<a href="./instrument_lsp.html#robo294">instrument</a>. The id of the <a href="./instrument_lsp.html#robo294">instrument</a> in the already existing
   <a href="./instrument-palette_lsp.html#robo311">instrument-palette</a>. This is required if the <a href="./player_lsp.html#robo296">player</a> argument is a symbol.
   Default NIL. 
 - :<a href="./instrument-palette_lsp.html#robo311">instrument-palette</a>. An <a href="./instrument-palette_lsp.html#robo311">instrument-palette</a> object.  Default =
   <a href="./instruments_lsp.html#robo252">+slippery-chicken-standard-instrument-palette+</a>.
 - :midi-channel the midi-channel for the new <a href="./player_lsp.html#robo296">player</a>
 - :microtones-midi-channel the microtones-midi-channel for the new <a href="./player_lsp.html#robo296">player</a>
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> The <a href="./player_lsp.html#robo296">player</a> object added.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>add-player</strong> ((e <a href="#robo412">ensemble</a>) <a href="./player_lsp.html#robo296">player</a> 
                       &amp;key
                         <a href="./instrument_lsp.html#robo294">instrument</a>
                         (<a href="./instrument-palette_lsp.html#robo311">instrument-palette</a>
                          +slippery-chicken-standard-<a href="./instrument_lsp.html#robo294">instrument</a>-<a href="./palette_lsp.html#robo424">palette</a>+)
                         ;; MDE Tue Jul 14 19:08:15 2020, Heidhausen
                         (midi-channel 1)
                         (microtones-midi-channel -1))
</pre>


<a name="ensemble2fauto2dmidi2dchannels"></a>
<a name="robo154"></a><h2 class=robodoc>ensemble/auto-midi-channels [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo412">ensemble</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DATE</p>
<pre> December 28th 2017
</pre>
<p class="item_name">DESCRIPTION</p>
<pre> This method is intended for initialisation but can also be called explicitly
 (but before rendering any MIDI files, if it's to make sense). It will
 automatically set the MIDI channels of all <a href="./slippery-chicken_lsp.html#robo845">players</a> in the <a href="#robo412">ensemble</a> to
 ascending values, if all values are currently 1 or the optional second
 argument is T. If using the :chromatic-<a href="./rthm-seq-palette_lsp.html#robo550">scale</a>, then the
 microtones-midi-channel will be the same as the main channel, otherwise it
 will be 1+ the main channel.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> the <a href="#robo412">ensemble</a> object
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> T or NIL to force the channel setting.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> If the procedure actually runs then the last channel set (integer) otherwise
 NIL.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>auto-midi-channels</strong> ((e <a href="#robo412">ensemble</a>) &amp;optional force)
</pre>


<a name="ensemble2fbalanced2dload3f"></a>
<a name="robo155"></a><h2 class=robodoc>ensemble/balanced-load? [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo412">ensemble</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DATE</p>
<pre> 28th August 2014
</pre>
<p class="item_name">DESCRIPTION</p>
<pre> Determine whether the playing load is balanced across the <a href="./slippery-chicken_lsp.html#robo845">players</a> of the
 <a href="#robo412">ensemble</a>. By default, if the least <a href="./activity-levels-env_lsp.html#robo22">active</a> <a href="./player_lsp.html#robo296">player</a> is playing 80% of the time
 that the most <a href="./activity-levels-env_lsp.html#robo22">active</a> <a href="./player_lsp.html#robo296">player</a> is playing, we'll return T.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - an <a href="#robo412">ensemble</a> instance
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> keyword arguments:
 - :threshold. A number <a href="./utilities_lsp.html#robo925">between</a> 0.0 and 1.0 which represents the <a href="./event_lsp.html#robo202">lowest</a>
   ratio <a href="./utilities_lsp.html#robo925">between</a> the most and least <a href="./activity-levels-env_lsp.html#robo22">active</a> <a href="./slippery-chicken_lsp.html#robo845">players</a>.  
 - :stats-fun. One of the <a href="./player_lsp.html#robo296">player</a> methods which tots up <a href="./slippery-chicken_lsp.html#robo853">statistics</a>,
   i.e. <a href="./player_lsp.html#robo393">total-notes</a>, <a href="./player_lsp.html#robo391">total-degrees</a>, <a href="./player_lsp.html#robo392">total-duration</a>, or <a href="./player_lsp.html#robo390">total-bars</a>
 - :ignore. A list of <a href="./slippery-chicken_lsp.html#robo845">players</a> (symbols) not to count in the sorting.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> T or NIL
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>balanced-load?</strong> ((e <a href="#robo412">ensemble</a>) &amp;key (threshold .8) 
                                             (stats-fun #'total-duration)
                                             ignore)
</pre>


<a name="ensemble2fget2dinstrument"></a>
<a name="robo156"></a><h2 class=robodoc>ensemble/get-instrument [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo412">ensemble</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DATE</p>
<pre> November 2nd 2018, Heidhausen
</pre>
<p class="item_name">DESCRIPTION</p>
<pre> Get the <a href="./instrument_lsp.html#robo294">instrument</a> object for a <a href="./player_lsp.html#robo296">player</a> in the <a href="#robo412">ensemble</a>. If the <a href="./player_lsp.html#robo296">player</a>
 doubles, then the optional &lt;ins&gt; argument is required and should be the ID
 of the <a href="./instrument_lsp.html#robo294">instrument</a> as defined in the <a href="#robo412">ensemble</a>'s <a href="./instrument_lsp.html#robo294">instrument</a> <a href="./palette_lsp.html#robo424">palette</a>
 (e.g. 'flute)  
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - the <a href="#robo412">ensemble</a> object
 - the ID of a <a href="./player_lsp.html#robo296">player</a> in the <a href="#robo412">ensemble</a>
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> - the ID of an <a href="./instrument_lsp.html#robo294">instrument</a> if the given <a href="./player_lsp.html#robo296">player</a> doubles
 - T or NIL to issue a warning should the <a href="./instrument_lsp.html#robo294">instrument</a> not be found.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> The <a href="./instrument_lsp.html#robo294">instrument</a> object.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>get-instrument</strong> ((e <a href="#robo412">ensemble</a>) <a href="./player_lsp.html#robo296">player</a> &amp;optional ins (warn t))
</pre>


<a name="ensemble2fget2dplayer"></a>
<a name="robo157"></a><h2 class=robodoc>ensemble/get-player [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo412">ensemble</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Return a <a href="./player_lsp.html#robo296">player</a> object from an <a href="#robo412">ensemble</a>, if it exists.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - An <a href="#robo412">ensemble</a> object.
 - The ID of a <a href="./player_lsp.html#robo296">player</a>.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> The <a href="./player_lsp.html#robo296">player</a> object or NIL if there's no such <a href="./player_lsp.html#robo296">player</a>.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>get-player</strong> ((e <a href="#robo412">ensemble</a>) <a href="./player_lsp.html#robo296">player</a>)
</pre>


<a name="ensemble2fget2dplayers"></a>
<a name="robo158"></a><h2 class=robodoc>ensemble/get-players [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo412">ensemble</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Return the IDs of the <a href="./slippery-chicken_lsp.html#robo845">players</a> from a given <a href="#robo412">ensemble</a> object.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - An <a href="#robo412">ensemble</a> object.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> - A list of symbols that are the <a href="./player_lsp.html#robo296">player</a> IDs of the given <a href="#robo412">ensemble</a> object. 
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">(let ((ens (<a href="#robo160">make-ensemble</a> 
            'ens
            '((flt ((flute piccolo) :midi-channel 1))
              (clr ((b-flat-clarinet)))
              (tpt ((b-flat-trumpet c-trumpet) :midi-channel 2))
              (vln ((violin))))
            :<a href="./instrument-palette_lsp.html#robo311">instrument-palette</a>
            +slippery-chicken-standard-<a href="./instrument_lsp.html#robo294">instrument</a>-<a href="./palette_lsp.html#robo424">palette</a>+)))
  (<strong>get-players</strong> ens))

=&gt; (FLT CLR TPT VLN)
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>get-players</strong> ((e <a href="#robo412">ensemble</a>))
</pre>


<a name="ensemble2flotsa2dcombos"></a>
<a name="robo159"></a><h2 class=robodoc>ensemble/lotsa-combos [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo412">ensemble</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DATE</p>
<pre> November 8th 2018, Heidhausen
</pre>
<p class="item_name">DESCRIPTION</p>
<pre> Get various <a href="./permutations_lsp.html#robo16">permutations</a> of the <a href="#robo412">ensemble</a> <a href="./slippery-chicken_lsp.html#robo845">players</a>, ranging from a single
 <a href="./player_lsp.html#robo296">player</a> up to one less than the number of <a href="./slippery-chicken_lsp.html#robo845">players</a> in the <a href="#robo412">ensemble</a>. This uses
 the <a href="./permutations_lsp.html#robo326">shuffle</a> method so is random, but as we use fixed-seed randomness we get
 repeatable results.

 NB This will return groups of <a href="./slippery-chicken_lsp.html#robo845">players</a> that are mere <a href="./permutations_lsp.html#robo16">permutations</a> of each
 others (e.g. (vln vla vc) and (vla vln vc)). As the combo-<a href="./chord_lsp.html#robo631">chord</a>-possible?
 <a href="./chord_lsp.html#robo631">chord</a> method will <a href="./permutations_lsp.html#robo323">permutate</a> these to try and find an instrumentation that is
 possible, you might think there's no point accepting <a href="./permutations_lsp.html#robo16">permutations</a> in this
 method. However, which combination (i.e. <a href="./instruments_lsp.html#robo12">instruments</a> in any given order) is
 first deemed playable for any given <a href="./chord_lsp.html#robo631">chord</a> will determine the voicing
 selected, so different results can be expected.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - the <a href="#robo412">ensemble</a> object
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> - an integer to determine the number of times we <a href="./permutations_lsp.html#robo323">permutate</a> for any given
 number of <a href="./slippery-chicken_lsp.html#robo845">players</a>. Note that depending on the number of <a href="./slippery-chicken_lsp.html#robo845">players</a> in the
 <a href="#robo412">ensemble</a> and the number we're looking to put into a combo, we might not
 always be able to hit this target (e.g. there are only 6 possible
 <a href="./permutations_lsp.html#robo16">permutations</a> of three values). Default = 7.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> a list of lists of <a href="./player_lsp.html#robo296">player</a> IDs.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">(<strong>lotsa-combos</strong> (<a href="#robo160">make-ensemble</a> 
              'ens
              '((flt ((flute piccolo)))
                (clr ((b-flat-clarinet)))
                (bsn bassoon)
                (tpt ((b-flat-trumpet c-trumpet))) 
                (trb tenor-trombone)
                (tb tuba)
                (vln ((violin))))))
--&gt;
((CLR FLT TRB BSN TB VLN) (TRB FLT CLR BSN TB TPT) (TB TRB FLT VLN TPT BSN)
 (CLR BSN TPT TB TRB FLT) (FLT TPT VLN BSN TRB TB) (FLT TPT BSN VLN TB CLR)
 (TPT FLT VLN CLR TB TRB) (BSN CLR TB TRB FLT) (TB FLT BSN VLN TPT)
 (FLT TPT BSN CLR TB) (FLT TRB CLR VLN TB) (BSN CLR VLN TPT TRB)
 (BSN TRB FLT TB CLR) (FLT CLR TPT TB VLN) (TRB CLR TPT TB) (FLT VLN TB TRB)
 (TRB VLN TB CLR) (TB VLN TRB BSN) (TPT TRB CLR BSN) (CLR FLT TRB VLN)
 (FLT TPT TRB CLR) (TPT CLR FLT) (TB TRB FLT) (TRB VLN FLT) (TB TPT CLR)
 (FLT BSN TPT) (FLT VLN BSN) (TB TPT TRB) (TPT FLT) (CLR TRB) (FLT CLR)
 (TRB CLR) (BSN CLR) (TRB TB) (BSN TPT) (FLT CLR BSN TPT TRB TB VLN) (FLT)
 (CLR) (BSN) (TPT) (TRB) (TB) (VLN))

(<strong>lotsa-combos</strong> (<a href="#robo160">make-ensemble</a> 
              'ens
              '((flt ((flute piccolo)))
                (clr ((b-flat-clarinet)))
                (bsn bassoon)
                (tpt ((b-flat-trumpet c-trumpet))) 
                (trb tenor-trombone)
                (tb tuba)
                (vln ((violin))))) 
              10) ; &lt;&lt;--- get more combos
--&gt;
((CLR TPT TB FLT TRB VLN) (BSN TRB VLN TB TPT CLR) (TB CLR FLT TRB BSN TPT)
 (TPT CLR BSN FLT VLN TRB) (VLN BSN TPT CLR TB TRB) (TRB BSN VLN TPT TB CLR)
 (TB TRB CLR VLN FLT BSN) (CLR TPT VLN TB FLT TRB) (TRB BSN VLN CLR FLT TPT)
 (TPT FLT CLR TB TRB VLN) (TPT TRB VLN BSN CLR) (BSN TB VLN TPT FLT)
 (BSN FLT TRB CLR TPT) (BSN TPT FLT CLR TB) (VLN TB TRB TPT FLT)
 (FLT TRB BSN TB VLN) (FLT CLR BSN TB TPT) (TRB FLT VLN TPT BSN)
 (BSN TPT TB TRB FLT) (TPT VLN BSN TRB TB) (BSN VLN TB CLR) (VLN CLR TB TRB)
 (CLR TB TRB FLT) (FLT BSN VLN TPT) (TPT BSN CLR TB) (TRB CLR VLN TB)
 (CLR VLN TPT TRB) (TRB FLT TB CLR) (CLR TPT TB VLN) (TRB CLR TPT TB)
 (VLN TB TRB) (VLN TB CLR) (VLN TRB BSN) (TRB CLR BSN) (FLT TRB VLN)
 (TPT TRB CLR) (TPT CLR FLT) (TB TRB FLT) (TRB VLN FLT) (TB TPT CLR) (VLN BSN)
 (TPT TRB) (TPT FLT) (CLR TRB) (FLT CLR) (TRB CLR) (BSN CLR) (TRB TB) (BSN TPT)
 (FLT CLR BSN TPT TRB TB VLN) (FLT) (CLR) (BSN) (TPT) (TRB) (TB) (VLN))
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>lotsa-combos</strong> ((e <a href="#robo412">ensemble</a>) &amp;optional (try 7))
</pre>


<a name="ensemble2fmake2densemble"></a>
<a name="robo160"></a><h2 class=robodoc>ensemble/make-ensemble [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo412">ensemble</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Make an <a href="#robo412">ensemble</a> object, specifying the <a href="./slippery-chicken_lsp.html#robo845">players</a> and associated
 <a href="./instruments_lsp.html#robo12">instruments</a>.  

 NB: If you have an <a href="#robo412">ensemble</a> with a <a href="./player_lsp.html#robo296">player</a> doubling two <a href="./instruments_lsp.html#robo12">instruments</a>, be sure
     to indicate some keyword argument or other as 
     (fl1 ((piccolo violin) :midi-channel 1)) works but 
     (fl1 ((piccolo violin))) thinks that piccolo is a nested <a href="#robo412">ensemble</a>!!!
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - An ID consisting of a symbol, string or number.
 - A list of 2-element sublists that define the <a href="#robo412">ensemble</a>. See the above
   comment on adding a keyword argument for doubling <a href="./slippery-chicken_lsp.html#robo845">players</a>. An existing
   <a href="#robo412">ensemble</a> object can be passed here whereupon it will be cloned and the ID
   will be changed to the (new) given ID if it's not NIll. In this case
   however the keyword arguments will be ignored.
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> keyword arguments:
 - :<a href="./instrument-palette_lsp.html#robo311">instrument-palette</a>. An <a href="./instrument_lsp.html#robo294">instrument</a> <a href="./palette_lsp.html#robo424">palette</a> object. Default = 
    <a href="./instruments_lsp.html#robo252">+slippery-chicken-standard-instrument-palette+</a>
 - :bar-line-writers. Obsolete as no longer used.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> An <a href="#robo412">ensemble</a> object.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">(let ((ens (<strong>make-ensemble</strong> 
              'ens
              '((flt ((flute piccolo) :midi-channel 1))
                (clr ((b-flat-clarinet))))
              :<a href="./instrument-palette_lsp.html#robo311">instrument-palette</a>
              +slippery-chicken-standard-<a href="./instrument_lsp.html#robo294">instrument</a>-<a href="./palette_lsp.html#robo424">palette</a>+)))
  (print ens))

=&gt;

ENSEMBLE: bar-line-writers: NIL
          <a href="./slippery-chicken_lsp.html#robo845">players</a>: (FLT CLR)
          (id <a href="./instrument_lsp.html#robo294">instrument</a>-<a href="./palette_lsp.html#robo424">palette</a>): SLIPPERY-CHICKEN-STANDARD-INSTRUMENT-PALETTE
RECURSIVE-ASSOC-LIST: recurse-simple-data: T
                      num-data: 2
                      linked: T
                      full-ref: NIL
ASSOC-LIST: warn-not-found T
CIRCULAR-SCLIST: current 0
SCLIST: <a href="./sclist_lsp.html#robo298">sclist</a>-length: 2, bounds-alert: T, copy: T
LINKED-NAMED-OBJECT: previous: NIL, this: NIL, next: NIL
NAMED-OBJECT: id: ENS, tag: NIL, 
data: (
PLAYER: (id <a href="./instrument_lsp.html#robo294">instrument</a>-<a href="./palette_lsp.html#robo424">palette</a>): SLIPPERY-CHICKEN-STANDARD-INSTRUMENT-PALETTE 
doubles: T, <a href="./cmn_lsp.html#robo7">cmn</a>-staff-args: NIL
LINKED-NAMED-OBJECT: previous: NIL, this: (FLT), next: (CLR)
NAMED-OBJECT: id: FLT, tag: NIL, 
data: 
[...]
data: (
INSTRUMENT: <a href="./event_lsp.html#robo202">lowest</a>-written: 
[...]
NAMED-OBJECT: id: FLUTE, tag: NIL, 
[...]
INSTRUMENT: <a href="./event_lsp.html#robo202">lowest</a>-written: 
[...]
NAMED-OBJECT: id: PICCOLO, tag: NIL, 
[...]
PLAYER: (id <a href="./instrument_lsp.html#robo294">instrument</a>-<a href="./palette_lsp.html#robo424">palette</a>): SLIPPERY-CHICKEN-STANDARD-INSTRUMENT-PALETTE 
doubles: NIL, <a href="./cmn_lsp.html#robo7">cmn</a>-staff-args: NIL
LINKED-NAMED-OBJECT: previous: (FLT), this: (CLR), next: NIL
NAMED-OBJECT: id: CLR, tag: NIL, 
data: 
INSTRUMENT: <a href="./event_lsp.html#robo202">lowest</a>-written: 
[...]
NAMED-OBJECT: id: B-FLAT-CLARINET, tag: NIL, 
)
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defun <strong>make-ensemble</strong> (id <a href="#robo412">ensemble</a>
                      &amp;key bar-line-writers
                        (<a href="./instrument-palette_lsp.html#robo311">instrument-palette</a> 
                         +slippery-chicken-standard-<a href="./instrument_lsp.html#robo294">instrument</a>-<a href="./palette_lsp.html#robo424">palette</a>+))
</pre>


<a name="ensemble2fnum2dnotes"></a>
<a name="robo161"></a><h2 class=robodoc>ensemble/num-notes [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo412">ensemble</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Get the number of attacked notes in a given <a href="./slippery-chicken_lsp.html#robo629">slippery-chicken</a> object. This
 method accesses the <a href="#robo412">ensemble</a> object within the given <a href="./slippery-chicken_lsp.html#robo629">slippery-chicken</a>
 object to perform this task.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - An <a href="#robo412">ensemble</a> object.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> An integer that is the total number of attacked notes in the given
 <a href="./slippery-chicken_lsp.html#robo629">slippery-chicken</a> object.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">(let ((mini
       (<a href="./slippery-chicken_lsp.html#robo835">make-slippery-chicken</a>
        '+mini+
        :<a href="#robo412">ensemble</a> '(((vn (violin :midi-channel 1))
                     (vc (cello :midi-channel 2))))
        :<a href="./set-palette_lsp.html#robo314">set-palette</a> '((1 ((f3 g3 a3 b3 c4 d4 e4 f4))))
        :<a href="./set-map_lsp.html#robo598">set-map</a> '((1 (1 1 1 1 1)))
        :<a href="./rthm-seq-palette_lsp.html#robo313">rthm-seq-palette</a> '((1 ((((2 4) e e e e))
                                :<a href="./pitch-seq-palette_lsp.html#robo312">pitch-seq-palette</a> ((1 2 3 4)))))
        :<a href="./rthm-seq-map_lsp.html#robo597">rthm-seq-map</a> '((1 ((vn (1 1 1 1 1))
                            (vc (1 1 1 1 1))))))))
  (<strong>num-notes</strong> (<a href="#robo412">ensemble</a> mini)))

=&gt; 40
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>num-notes</strong> ((e <a href="#robo412">ensemble</a>))
</pre>


<a name="ensemble2fnum2dplayers"></a>
<a name="robo162"></a><h2 class=robodoc>ensemble/num-players [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo412">ensemble</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Get the number of <a href="./slippery-chicken_lsp.html#robo845">players</a> in a given <a href="#robo412">ensemble</a> object.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - An <a href="#robo412">ensemble</a> object.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> - An integer.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">(let ((ens (<a href="#robo160">make-ensemble</a> 
            'ens
            '((flt ((flute piccolo) :midi-channel 1))
              (clr ((b-flat-clarinet)))
              (tpt ((b-flat-trumpet c-trumpet) :midi-channel 2))
              (vln ((violin))))
            :<a href="./instrument-palette_lsp.html#robo311">instrument-palette</a>
            +slippery-chicken-standard-<a href="./instrument_lsp.html#robo294">instrument</a>-<a href="./palette_lsp.html#robo424">palette</a>+)))
  (<strong>num-players</strong> ens))

=&gt; 4
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>num-players</strong> ((e <a href="#robo412">ensemble</a>))
</pre>


<a name="ensemble2fplayers2dexist"></a>
<a name="robo163"></a><h2 class=robodoc>ensemble/players-exist [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo412">ensemble</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Produce an error message and drop into the debugger if the specified
 <a href="./player_lsp.html#robo296">player</a> IDs are not found within the given <a href="#robo412">ensemble</a> object.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - An <a href="#robo412">ensemble</a> object.
 - A list of symbols that are the IDs of the <a href="./slippery-chicken_lsp.html#robo845">players</a> sought.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> T if the specified <a href="./player_lsp.html#robo296">player</a> IDs are present within the given <a href="#robo412">ensemble</a> object,
 otherwise drops into the debugger with an error.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">;;; Returns NIL if a <a href="./player_lsp.html#robo296">player</a> with the specified ID is found in the given
;;; <a href="#robo412">ensemble</a> object.
(let ((ens (<a href="#robo160">make-ensemble</a> 
            'ens
            '((flt ((flute piccolo) :midi-channel 1))
              (clr ((b-flat-clarinet)))
              (tpt ((b-flat-trumpet c-trumpet) :midi-channel 2))
              (vln ((violin))))
            :<a href="./instrument-palette_lsp.html#robo311">instrument-palette</a>
            +slippery-chicken-standard-<a href="./instrument_lsp.html#robo294">instrument</a>-<a href="./palette_lsp.html#robo424">palette</a>+)))
  (<strong>players-exist</strong> ens '(vln)))

=&gt; T

;; Drops into the debugger with an error if no <a href="./player_lsp.html#robo296">player</a> with the specified ID is
;; found in the given <a href="#robo412">ensemble</a> object.
(let ((ens (<a href="#robo160">make-ensemble</a> 
            'ens
            '((flt ((flute piccolo) :midi-channel 1))
              (clr ((b-flat-clarinet)))
              (tpt ((b-flat-trumpet c-trumpet) :midi-channel 2))
              (vln ((violin))))
            :<a href="./instrument-palette_lsp.html#robo311">instrument-palette</a>
            +slippery-chicken-standard-<a href="./instrument_lsp.html#robo294">instrument</a>-<a href="./palette_lsp.html#robo424">palette</a>+)))
  (<strong>players-exist</strong> ens '(vla)))

=&gt;
<a href="#robo412">ensemble</a>::<a href="./slippery-chicken_lsp.html#robo845">players</a>-exist: VLA is not a member of the <a href="#robo412">ensemble</a>
   [Condition of type SIMPLE-ERROR]
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>players-exist</strong> ((e <a href="#robo412">ensemble</a>) <a href="./slippery-chicken_lsp.html#robo845">players</a>)
</pre>


<a name="ensemble2fset2dstaff2dnames"></a>
<a name="robo164"></a><h2 class=robodoc>ensemble/set-staff-names [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo412">ensemble</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DATE</p>
<pre> November 27th 2021, Heidhausen
</pre>
<p class="item_name">DESCRIPTION</p>
<pre> Set the staff-names slot of <a href="./slippery-chicken_lsp.html#robo845">players</a> in the <a href="#robo412">ensemble</a>. These will be used
 instead of the <a href="./instruments_lsp.html#robo12">instruments</a>' staff-names slot when writing the score. In fact
 the new names will be passed down to the <a href="./instrument_lsp.html#robo294">instrument</a> objects.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - the <a href="#robo412">ensemble</a> object
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> - names: can be nil, whereup all the <a href="./player_lsp.html#robo296">player</a> names will be passed down to the
   <a href="./instrument_lsp.html#robo294">instrument</a> objects as the staff-name (as a downcased string). Or can be a
   list of <a href="./player_lsp.html#robo296">player</a> (symbols) whereupon the same will happen. Or it can be a
   list of (<a href="./player_lsp.html#robo296">player</a> staff-name) pairs where the staff-name will be downcased,
   if a symbol, or used directly if a string. If the <a href="./player_lsp.html#robo296">player</a> is
   multi-instrumental the staff-name can itself be a list whereupon the
   symbol/string will be handled similarly but the order should be the same
   as the list of <a href="./instruments_lsp.html#robo12">instruments</a> passed when initialising the <a href="./player_lsp.html#robo296">player</a>
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> T
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>set-staff-names</strong> ((e <a href="#robo412">ensemble</a>) &amp;optional names short-names)
</pre>


<a name="ensemble2fsort2dplayers"></a>
<a name="robo165"></a><h2 class=robodoc>ensemble/sort-players [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo412">ensemble</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DATE</p>
<pre> 27th August 2013
</pre>
<p class="item_name">DESCRIPTION</p>
<pre> Return a hierarchical list of <a href="./slippery-chicken_lsp.html#robo845">players</a> sorted by e.g. how much they're
 playing. 
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - An <a href="#robo412">ensemble</a> object
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> keyword arguments:
 - :stats-fun. One of the <a href="./player_lsp.html#robo296">player</a> methods which tots up <a href="./slippery-chicken_lsp.html#robo853">statistics</a>,
    i.e. <a href="./player_lsp.html#robo393">total-notes</a>, <a href="./player_lsp.html#robo391">total-degrees</a>, <a href="./player_lsp.html#robo392">total-duration</a>, or <a href="./player_lsp.html#robo390">total-bars</a>
 - :ignore. A list of <a href="./slippery-chicken_lsp.html#robo845">players</a> (symbols) not to count in the sorting.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> A list of all the <a href="./slippery-chicken_lsp.html#robo845">players</a> in the <a href="#robo412">ensemble</a> ordered by its <a href="./slippery-chicken_lsp.html#robo853">statistics</a>.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>sort-players</strong> ((e <a href="#robo412">ensemble</a>) &amp;key (stats-fun #'total-duration)
                                        ignore print)
</pre>


<a name="ensemble2ftessitura"></a>
<a name="robo166"></a><h2 class=robodoc>ensemble/tessitura [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo412">ensemble</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Get the <a href="./utilities_lsp.html#robo924">average</a> <a href="./pitch_lsp.html#robo295">pitch</a> of a given <a href="./slippery-chicken_lsp.html#robo629">slippery-chicken</a> object. This method
 accesses the <a href="#robo412">ensemble</a> object within the given <a href="./slippery-chicken_lsp.html#robo629">slippery-chicken</a> object to
 perform this task.

 NB: This method processes data in relationship to degrees of the current
     tuning system (<a href="./rthm-seq-palette_lsp.html#robo550">scale</a>), which is quarter-tone by default. It is
     therefore possible, when generating a <a href="./piece_lsp.html#robo58">piece</a> using only chromatic
     pitches but within a non-chromatic tuning to get <a href="./event_lsp.html#robo209">microtonal</a> results.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - An <a href="#robo412">ensemble</a> object.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> An integer that is the <a href="./utilities_lsp.html#robo924">average</a> <a href="./pitch_lsp.html#robo295">pitch</a> of the given <a href="./slippery-chicken_lsp.html#robo629">slippery-chicken</a> object
 in degrees.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">;;; Change the tuning to chromatic first to get an accurate result:
(<a href="./cm_lsp.html#robo136">in-scale</a> :chromatic)

=&gt; #&lt;tuning "chromatic-<a href="./rthm-seq-palette_lsp.html#robo550">scale</a>"&gt;

(let ((mini
       (<a href="./slippery-chicken_lsp.html#robo835">make-slippery-chicken</a>
        '+mini+
        :<a href="#robo412">ensemble</a> '(((vn (violin :midi-channel 1))
                     (vc (cello :midi-channel 2))))
        :<a href="./set-palette_lsp.html#robo314">set-palette</a> '((1 ((f3 g3 a3 b3 c4 d4 e4 f4))))
        :<a href="./set-map_lsp.html#robo598">set-map</a> '((1 (1 1 1 1 1)))
        :<a href="./rthm-seq-palette_lsp.html#robo313">rthm-seq-palette</a> '((1 ((((2 4) e e e e))
                                :<a href="./pitch-seq-palette_lsp.html#robo312">pitch-seq-palette</a> ((1 2 3 4)))))
        :<a href="./rthm-seq-map_lsp.html#robo597">rthm-seq-map</a> '((1 ((vn (1 1 1 1 1))
                            (vc (1 1 1 1 1))))))))
  (<strong>tessitura</strong> (<a href="#robo412">ensemble</a> mini)))

=&gt; C4
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>tessitura</strong> ((e <a href="#robo412">ensemble</a>))
</pre>


<a name="recursive2dassoc2dlist2fensemble"></a>
<a name="robo412"></a><h2 class=robodoc>recursive-assoc-list/ensemble [ Classes ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="./recursive-assoc-list_lsp.html#robo47">recursive-assoc-list</a> ] [ <a href="./robo_classes.html#robo_top_of_doc">Classes</a> ]</p>
<p class="item_name">NAME</p>
<pre> <strong>ensemble</strong>

 File:             <a href="#robo_top_of_doc">ensemble.lsp</a>

 Class Hierarchy:  <a href="./named-object_lsp.html#robo628">named-object</a> -&gt; <a href="./linked-named-object_lsp.html#robo309">linked-named-object</a> -&gt; <a href="./sclist_lsp.html#robo298">sclist</a> -&gt; 
                   <a href="./circular-sclist_lsp.html#robo632">circular-sclist</a> -&gt; <a href="./assoc-list_lsp.html#robo113">assoc-list</a> -&gt; <a href="./recursive-assoc-list_lsp.html#robo47">recursive-assoc-list</a> -&gt;
                   <strong>ensemble</strong>

 Version:          1.1.0

 Project:          slippery chicken (algorithmic composition)

 Purpose:          Implementation of the <strong>ensemble</strong> class.

 Author:           Michael Edwards: m@michael-edwards.org

 Creation date:    4th September 2001

 $$ Last modified:  12:31:15 Tue Apr  2 2024 CEST

 SVN ID: $Id$
</pre>

</div> <!-- content -->
<div id="footer">
<p>Generated from ./../../src/ensemble.lsp with <a href="http://www.xs4all.nl/~rfsber/Robo/robodoc.html">ROBODoc</a> V4.99.44 on 2024-11-12 20:37:48</p>
</div> <!-- footer -->
</body>
</html>
