<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-type" content="text/html; charset=ISO-8859-1" />
<link rel="stylesheet" href="./robodoc.css" type="text/css" />
<script src="./robodoc.js"></script>
<title>instrument-change-map.lsp</title>
<!-- Source: ./../../src/instrument-change-map.lsp -->
<!-- Generated with ROBODoc Version 4.99.44 (Oct 31 2021) -->
</head>
<script type=text/javascript src=../head-foot.js></script>
<body>
<div id="content">
<script type="text/javascript">header("../");</script>

<div id="logo">
<a name="robo_top_of_doc"></a>
</div> <!-- logo -->
<div id="navigation">
<a class="menuitem" href="./toc_index.html#top">Table of Contents</a>
<a class="menuitem" href="./robo_sourcefiles.html#top">Sourcefiles</a>
<a class="menuitem" href="./roboindex.html#top">Index</a>
<a class="menuitem" href="./robo_parameters.html#top">Global Parameters</a>
<a class="menuitem" href="./robo_classes.html#top">Classes</a>
<a class="menuitem" href="./robo_functions.html#top">Functions</a>
<a class="menuitem" href="./robo_modules.html#top">Modules</a>
<a class="menuitem" href="./robo_methods.html#top">Methods</a>
</div> <!-- navigation -->


<a name="change2dmap2finstrument2dchange2dmap"></a>
<a name="robo67"></a><h2 class=robodoc>change-map/instrument-change-map [ Classes ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="./change-map_lsp.html#robo586">change-map</a> ] [ <a href="./robo_classes.html#robo_top_of_doc">Classes</a> ]</p>
<p class="item_name">NAME</p>
<pre> <strong>instrument-change-map</strong>

 File:             <strong>instrument-change-map</strong>

 Class Hierarchy:  <a href="./named-object_lsp.html#robo628">named-object</a> -&gt; <a href="./linked-named-object_lsp.html#robo309">linked-named-object</a> -&gt; <a href="./sclist_lsp.html#robo298">sclist</a> -&gt; 
                   <a href="./circular-sclist_lsp.html#robo632">circular-sclist</a> -&gt; <a href="./assoc-list_lsp.html#robo113">assoc-list</a> -&gt; <a href="./recursive-assoc-list_lsp.html#robo47">recursive-assoc-list</a> -&gt;
                   <a href="./sc-map_lsp.html#robo433">sc-map</a> -&gt; <a href="./change-map_lsp.html#robo586">change-map</a> -&gt; <strong>instrument-change-map</strong>

 Version:          1.1.0

 Project:          slippery chicken (algorithmic composition)

 Purpose:          Extends <a href="./change-map_lsp.html#robo586">change-map</a> to check that <a href="./instruments_lsp.html#robo12">instruments</a> defined in
                   the map have data for the first bar of the first <a href="./section_lsp.html#robo60">section</a>.

 Author:           Michael Edwards: m@michael-edwards.org

 Creation date:    12th April 2002

 $$ Last modified:  10:29:44 Thu Feb  1 2024 CET

 SVN ID: $Id$
</pre>


<a name="instrument2dchange2dmap2fget2dfirst2dfor2dplayer"></a>
<a name="robo235"></a><h2 class=robodoc>instrument-change-map/get-first-for-player [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo67">instrument-change-map</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Return the first <a href="./instrument_lsp.html#robo294">instrument</a> object assigned to a given <a href="./player_lsp.html#robo296">player</a> in cases
 where a <a href="./player_lsp.html#robo296">player</a> has been assigned more than one <a href="./instrument_lsp.html#robo294">instrument</a>.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - An <a href="#robo67">instrument-change-map</a>
 - The ID of the <a href="./player_lsp.html#robo296">player</a> for whom to return the first <a href="./instrument_lsp.html#robo294">instrument</a>.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> The ID of the first <a href="./instrument_lsp.html#robo294">instrument</a> object assigned to the specified <a href="./player_lsp.html#robo296">player</a>. 
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">(let ((mini
       (<a href="./slippery-chicken_lsp.html#robo835">make-slippery-chicken</a>
        '+mini+
        :<a href="./ensemble_lsp.html#robo412">ensemble</a> '(((sax ((alto-sax tenor-sax) :midi-channel 1))
                     (db (<a href="./sc-map_lsp.html#robo589">double</a>-bass :midi-channel 2))))
        :<a href="#robo67">instrument-change-map</a> '((1 ((sax ((1 alto-sax) (3 tenor-sax))))))
        :<a href="./set-palette_lsp.html#robo314">set-palette</a> '((1 ((c2 d2 g2 a2 e3 fs3 b3 cs4 fs4 gs4 ds5 f5 bf5)))) 
        :<a href="./set-map_lsp.html#robo598">set-map</a> '((1 (1 1 1 1 1)))
        :<a href="./rthm-seq-palette_lsp.html#robo313">rthm-seq-palette</a> '((1 ((((4 4) h q e s s))
                                :<a href="./pitch-seq-palette_lsp.html#robo312">pitch-seq-palette</a> ((1 2 3 4 5)))))
        :<a href="./rthm-seq-map_lsp.html#robo597">rthm-seq-map</a> '((1 ((sax (1 1 1 1 1))
                            (db (1 1 1 1 1))))))))
  (<strong>get-first-for-player</strong> (<a href="#robo67">instrument-change-map</a> mini) 'sax))

=&gt; ALTO-SAX, T
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>get-first-for-player</strong> ((icm <a href="./instrument_lsp.html#robo294">instrument</a>-change-map)
                                 <a href="./player_lsp.html#robo296">player</a>)
</pre>


<a name="instrument2dchange2dmap2fmake2dinstrument2dchange2dmap"></a>
<a name="robo236"></a><h2 class=robodoc>instrument-change-map/make-instrument-change-map [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo67">instrument-change-map</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Create an <a href="#robo67">instrument-change-map</a> object. 
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - An ID for the <a href="#robo67">instrument-change-map</a> to be created.
 - A list of lists. The top level of these lists consists of the <a href="./section_lsp.html#robo60">section</a> IDs
   for the given <a href="./slippery-chicken_lsp.html#robo629">slippery-chicken</a> object paired with lists of data for the
   specified <a href="./slippery-chicken_lsp.html#robo845">players</a> for each <a href="./section_lsp.html#robo60">section</a>. Each <a href="./player_lsp.html#robo296">player</a> list then consists of the
   ID of the <a href="./player_lsp.html#robo296">player</a> paired with a list of two-item lists pairing measure
   numbers with the <a href="./instrument_lsp.html#robo294">instrument</a> to which that <a href="./player_lsp.html#robo296">player</a> is to change, e.g.:

   '((1 ((fl ((1 flute) (3 piccolo) (5 flute)))
         (cl ((1 b-flat-clarinet) (2 bass-clarinet) (6 b-flat-clarinet)))))
     (2 ((fl ((2 piccolo) (4 flute)))
         (cl ((2 bass-clarinet) (3 b-flat-clarinet))))))
</pre>
<p class="item_name">OPTIONAL ARGUMENTS</p>
<pre> - :warn-not-found. T or NIL to indicate whether a warning is printed when
   an index which doesn't exist is used for look-up. T = warn. Default = T. 
</pre>
<p class="item_name">RETURN VALUE</p>
<p class="item_name">EXAMPLE</p>
<pre class="source">(<strong>make-instrument-change-map</strong> 
 'icm-test
 '((1 ((fl ((1 flute) (3 piccolo) (5 flute)))
       (cl ((1 b-flat-clarinet) (2 bass-clarinet) (6 b-flat-clarinet))))) 
   (2 ((fl ((2 piccolo) (4 flute)))
       (cl ((2 bass-clarinet) (3 b-flat-clarinet)))))))

=&gt;

INSTRUMENT-CHANGE-MAP: 
CHANGE-MAP: last-ref-required: T
SC-MAP: <a href="./palette_lsp.html#robo424">palette</a> id: NIL
RECURSIVE-ASSOC-LIST: recurse-simple-data: NIL
                      num-data: 4
                      linked: T
                      full-ref: NIL
ASSOC-LIST: warn-not-found NIL
CIRCULAR-SCLIST: current 0
SCLIST: <a href="./sclist_lsp.html#robo298">sclist</a>-length: 2, bounds-alert: T, copy: T
LINKED-NAMED-OBJECT: previous: NIL, this: NIL, next: NIL
NAMED-OBJECT: id: ICM-TEST, tag: NIL, 
data: (
NAMED-OBJECT: id: 1, tag: NIL, 
data: 
CHANGE-MAP: last-ref-required: T
SC-MAP: <a href="./palette_lsp.html#robo424">palette</a> id: NIL
RECURSIVE-ASSOC-LIST: recurse-simple-data: NIL
                      num-data: 2
                      linked: T
                      full-ref: (1)
ASSOC-LIST: warn-not-found NIL
CIRCULAR-SCLIST: current 0
SCLIST: <a href="./sclist_lsp.html#robo298">sclist</a>-length: 2, bounds-alert: T, copy: T
LINKED-NAMED-OBJECT: previous: NIL, this: NIL, next: NIL
NAMED-OBJECT: id: "sub-ral-of-ICM-TEST", tag: NIL, 
data: (
CHANGE-DATA: 
            previous-data: NIL, 
            last-data: FLUTE
SCLIST: <a href="./sclist_lsp.html#robo298">sclist</a>-length: 3, bounds-alert: T, copy: T
LINKED-NAMED-OBJECT: previous: NIL, this: (1 FL), next: (1 CL)
NAMED-OBJECT: id: FL, tag: NIL, 
data: ((1 1 FLUTE) (3 1 PICCOLO) (5 1 FLUTE))
**************

       
CHANGE-DATA: 
            previous-data: NIL, 
            last-data: B-FLAT-CLARINET
SCLIST: <a href="./sclist_lsp.html#robo298">sclist</a>-length: 3, bounds-alert: T, copy: T
LINKED-NAMED-OBJECT: previous: (1 FL), this: (1 CL), next: (2 FL)
NAMED-OBJECT: id: CL, tag: NIL, 
data: ((1 1 B-FLAT-CLARINET) (2 1 BASS-CLARINET) (6 1 B-FLAT-CLARINET))
**************
)
**************

**************

       
NAMED-OBJECT: id: 2, tag: NIL, 
data: 
CHANGE-MAP: last-ref-required: T
SC-MAP: <a href="./palette_lsp.html#robo424">palette</a> id: NIL
RECURSIVE-ASSOC-LIST: recurse-simple-data: NIL
                      num-data: 2
                      linked: T
                      full-ref: (2)
ASSOC-LIST: warn-not-found NIL
CIRCULAR-SCLIST: current 0
SCLIST: <a href="./sclist_lsp.html#robo298">sclist</a>-length: 2, bounds-alert: T, copy: T
LINKED-NAMED-OBJECT: previous: NIL, this: NIL, next: NIL
NAMED-OBJECT: id: "sub-ral-of-ICM-TEST", tag: NIL, 
data: (
CHANGE-DATA: 
            previous-data: FLUTE, 
            last-data: FLUTE
SCLIST: <a href="./sclist_lsp.html#robo298">sclist</a>-length: 2, bounds-alert: T, copy: T
LINKED-NAMED-OBJECT: previous: (1 CL), this: (2 FL), next: (2 CL)
NAMED-OBJECT: id: FL, tag: NIL, 
data: ((2 1 PICCOLO) (4 1 FLUTE))
**************

       
CHANGE-DATA: 
            previous-data: B-FLAT-CLARINET, 
            last-data: B-FLAT-CLARINET
SCLIST: <a href="./sclist_lsp.html#robo298">sclist</a>-length: 2, bounds-alert: T, copy: T
LINKED-NAMED-OBJECT: previous: (2 FL), this: (2 CL), next: NIL
NAMED-OBJECT: id: CL, tag: NIL, 
data: ((2 1 BASS-CLARINET) (3 1 B-FLAT-CLARINET))
**************
)
**************

**************
)
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defun <strong>make-instrument-change-map</strong> (id icm &amp;key (warn-not-found nil))
</pre>

</div> <!-- content -->
<div id="footer">
<p>Generated from ./../../src/instrument-change-map.lsp with <a href="http://www.xs4all.nl/~rfsber/Robo/robodoc.html">ROBODoc</a> V4.99.44 on 2025-02-13 09:01:46</p>
</div> <!-- footer -->
</body>
</html>
