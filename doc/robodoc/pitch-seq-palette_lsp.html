<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-type" content="text/html; charset=ISO-8859-1" />
<link rel="stylesheet" href="./robodoc.css" type="text/css" />
<script src="./robodoc.js"></script>
<title>pitch-seq-palette.lsp</title>
<!-- Source: ./../../src/pitch-seq-palette.lsp -->
<!-- Generated with ROBODoc Version 4.99.44 (Oct 31 2021) -->
</head>
<script type=text/javascript src=../head-foot.js></script>
<body>
<div id="content">
<script type="text/javascript">header("../");</script>

<div id="logo">
<a name="robo_top_of_doc"></a>
</div> <!-- logo -->
<div id="navigation">
<a class="menuitem" href="./toc_index.html#top">Table of Contents</a>
<a class="menuitem" href="./robo_sourcefiles.html#top">Sourcefiles</a>
<a class="menuitem" href="./roboindex.html#top">Index</a>
<a class="menuitem" href="./robo_parameters.html#top">Global Parameters</a>
<a class="menuitem" href="./robo_classes.html#top">Classes</a>
<a class="menuitem" href="./robo_functions.html#top">Functions</a>
<a class="menuitem" href="./robo_modules.html#top">Modules</a>
<a class="menuitem" href="./robo_methods.html#top">Methods</a>
</div> <!-- navigation -->


<a name="palette2fpitch2dseq2dpalette"></a>
<a name="robo314"></a><h2 class=robodoc>palette/pitch-seq-palette [ Classes ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="./palette_lsp.html#robo426">palette</a> ] [ <a href="./robo_classes.html#robo_top_of_doc">Classes</a> ]</p>
<p class="item_name">NAME</p>
<pre> <strong>pitch-seq-palette</strong>

 File:             <a href="#robo_top_of_doc">pitch-seq-palette.lsp</a>

 Class Hierarchy:  <a href="./named-object_lsp.html#robo631">named-object</a> -&gt; <a href="./linked-named-object_lsp.html#robo311">linked-named-object</a> -&gt; <a href="./sclist_lsp.html#robo300">sclist</a> -&gt; 
                   <a href="./circular-sclist_lsp.html#robo635">circular-sclist</a> -&gt; <a href="./assoc-list_lsp.html#robo115">assoc-list</a> -&gt; <a href="./recursive-assoc-list_lsp.html#robo47">recursive-assoc-list</a> -&gt;
                   <a href="./palette_lsp.html#robo426">palette</a> -&gt; <strong>pitch-seq-palette</strong>

 Version:          1.1.0

 Project:          slippery chicken (algorithmic composition)

 Purpose:          Implementation of the <strong>pitch-seq-palette</strong> class.

 Author:           Michael Edwards: m@michael-edwards.org

 Creation date:    19th February 2001

 $$ Last modified:  19:22:09 Tue May 20 2025 CEST

 SVN ID: $Id$
</pre>


<a name="pitch2dseq2dpalette2fadd2dinversions"></a>
<a name="robo334"></a><h2 class=robodoc>pitch-seq-palette/add-inversions [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo314">pitch-seq-palette</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Add inversions of the existing <a href="./pitch-seq_lsp.html#robo644">pitch-seq</a> objects in a given
 <a href="#robo314">pitch-seq-palette</a> object to the end of that <a href="#robo314">pitch-seq-palette</a> object. (See
 <a href="./pitch_lsp.html#robo297">pitch</a>-seq::<a href="./rthm-seq-palette_lsp.html#robo546">invert</a> for more details on <a href="./slippery-chicken_lsp.html#robo632">slippery-chicken</a> inversions.)
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - A <a href="#robo314">pitch-seq-palette</a> object.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> Always returns T.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">;; Create a <a href="#robo314">pitch-seq-palette</a> object and print the DATA of the <a href="./pitch-seq_lsp.html#robo644">pitch-seq</a>
;; objects it contains; then apply the <strong>add-inversions</strong> method and print the same
;; DATA to see the changes
(let ((mpsp (<a href="#robo336">make-psp</a> 'mpsp 5 '((2 5 3 1 4)
                                (1 4 2 5 3)
                                (5 1 3 2 4)
                                (2 3 4 5 1)
                                (3 2 4 1 5)))))
  (print (loop for ps in (data mpsp)
            collect (data ps)))
  (<strong>add-inversions</strong> mpsp)
  (print (loop for ps in (data mpsp)
            collect (data ps))))

=&gt;
((2 5 3 1 4) (1 4 2 5 3) (5 1 3 2 4) (2 3 4 5 1) (3 2 4 1 5)) 

((2 5 3 1 4) (1 4 2 5 3) (5 1 3 2 4) (2 3 4 5 1) (3 2 4 1 5) (4 1 3 5 2)
 (5 2 4 1 3) (1 5 3 4 2) (4 3 2 1 5) (3 4 2 5 1))
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>add-inversions</strong> ((psp <a href="./pitch_lsp.html#robo297">pitch</a>-seq-<a href="./palette_lsp.html#robo426">palette</a>))
</pre>


<a name="pitch2dseq2dpalette2fcombine"></a>
<a name="robo335"></a><h2 class=robodoc>pitch-seq-palette/combine [ Methods ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo314">pitch-seq-palette</a> ] [ <a href="./robo_methods.html#robo_top_of_doc">Methods</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Create a new <a href="#robo314">pitch-seq-palette</a> object by combining the <a href="./pitch-seq_lsp.html#robo644">pitch-seq</a> lists from
 one <a href="#robo314">pitch-seq-palette</a> object with those of another.

 The method combines the contents of the two given <a href="./rthm-seq-palette_lsp.html#robo315">rthm-seq-palette</a> objects
 consecutively; i.e., the first <a href="./pitch-seq_lsp.html#robo644">pitch-seq</a> object of the first
 <a href="#robo314">pitch-seq-palette</a> is combined with the first <a href="./pitch-seq_lsp.html#robo644">pitch-seq</a> object of the other,
 then the second with the second, the third with the third etc. 

 If one <a href="#robo314">pitch-seq-palette</a> object contains more <a href="./pitch-seq_lsp.html#robo644">pitch-seq</a> objects than the
 other, the method cycles through the shorter one until all of the members
 of the longer one have been handled. The new <a href="#robo314">pitch-seq-palette</a> object will
 therefore contain the same number of <a href="./pitch-seq_lsp.html#robo644">pitch-seq</a> objects as is in the longest
 of the two starting <a href="#robo314">pitch-seq-palette</a> objects.

 It is not necessary for the lengths of the <a href="./pitch-seq_lsp.html#robo644">pitch-seq</a> objects in the two
 starting <a href="#robo314">pitch-seq-palette</a> objects to be the same.

 NB Both <a href="./pitch_lsp.html#robo297">pitch</a>-seq-palettes are <a href="./circular-sclist_lsp.html#robo124">reset</a> by this method.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - A first <a href="#robo314">pitch-seq-palette</a> object.
 - A second <a href="#robo314">pitch-seq-palette</a> object.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> A <a href="#robo314">pitch-seq-palette</a> object.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">;;; Combine two <a href="#robo314">pitch-seq-palette</a> objects of the same length, each of whose
;;; <a href="./pitch_lsp.html#robo297">pitch</a>-seqs are the same length
(let ((mpsp1 (<a href="#robo336">make-psp</a> 'mpsp1 5 '((2 5 3 1 4) (1 4 2 5 3) (5 1 3 2 4))))
      (mpsp2 (<a href="#robo336">make-psp</a> 'mpsp2 5 '((2 3 4 5 1) (3 2 4 1 5) (3 2 1 5 4)))))
  (<strong>combine</strong> mpsp1 mpsp2))

=&gt;
PITCH-SEQ-PALETTE: num-notes: 10, <a href="./instruments_lsp.html#robo12">instruments</a>: NIL
PALETTE: 
RECURSIVE-ASSOC-LIST: recurse-simple-data: T
                      num-data: 3
                      linked: NIL
                      full-ref: NIL
ASSOC-LIST: warn-not-found T
CIRCULAR-SCLIST: current 0
SCLIST: <a href="./sclist_lsp.html#robo300">sclist</a>-length: 3, bounds-alert: T, copy: T
LINKED-NAMED-OBJECT: previous: NIL, this: NIL, next: NIL
NAMED-OBJECT: id: "MPSP1-MPSP2", tag: NIL, 
data: (
PITCH-SEQ: notes: NIL
[...]
data: (2 5 3 1 4 2 3 4 5 1)
PITCH-SEQ: notes: NIL
[...]
data: (1 4 2 5 3 3 2 4 1 5)
[...]       
PITCH-SEQ: notes: NIL
[...]
data: (5 1 3 2 4 3 2 1 5 4)
)

;; When combining <a href="#robo314">pitch-seq-palette</a> objects of different lengths, the method
;; cyles through the shorter of the two
(let ((mpsp1 (<a href="#robo336">make-psp</a> 'mpsp1 5 '((2 5 3 1 4) (1 4 2 5 3) (5 1 3 2 4))))
      (mpsp2 (<a href="#robo336">make-psp</a> 'mpsp2 5 '((2 3 4 5 1) (3 2 4 1 5)))))
  (loop for ps in (data (<strong>combine</strong> mpsp1 mpsp2)) 
       collect (data ps)))

=&gt; ((2 5 3 1 4 2 3 4 5 1) (1 4 2 5 3 3 2 4 1 5) (5 1 3 2 4 2 3 4 5 1))

;; The two starting <a href="#robo314">pitch-seq-palette</a> objects are not required to have
;; <a href="./pitch-seq_lsp.html#robo644">pitch-seq</a> objects of the same length
(let ((mpsp1 (<a href="#robo336">make-psp</a> 'mpsp1 5 '((2 5 3 1 4) (1 4 2 5 3) (5 1 3 2 4))))
      (mpsp2 (<a href="#robo336">make-psp</a> 'mpsp2 3 '((2 3 4) (3 2 4)))))
  (loop for ps in (data (<strong>combine</strong> mpsp1 mpsp2)) 
       collect (data ps)))

=&gt; ((2 5 3 1 4 2 3 4) (1 4 2 5 3 3 2 4) (5 1 3 2 4 2 3 4))
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defmethod <strong>combine</strong> ((psp1 <a href="./pitch_lsp.html#robo297">pitch</a>-seq-<a href="./palette_lsp.html#robo426">palette</a>) (psp2 <a href="./pitch_lsp.html#robo297">pitch</a>-seq-<a href="./palette_lsp.html#robo426">palette</a>))
</pre>


<a name="pitch2dseq2dpalette2fmake2dpsp"></a>
<a name="robo336"></a><h2 class=robodoc>pitch-seq-palette/make-psp [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo314">pitch-seq-palette</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">DESCRIPTION</p>
<pre> Create a <a href="#robo314">pitch-seq-palette</a> object from an ID, a specified number of notes,
 and a list of lists of numbers representing the <a href="./pitch_lsp.html#robo297">pitch</a> curve of the intended
 <a href="./pitch-seq_lsp.html#robo644">pitch-seq</a> objects.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre> - A symbol that is to be the ID of the <a href="#robo314">pitch-seq-palette</a> to be created. 
 - An integer that is the number of notes there are to be in each <a href="./pitch-seq_lsp.html#robo644">pitch-seq</a>
   object created.
 - A list of lists, each of which contained list is a list of numbers
   representing the <a href="./pitch_lsp.html#robo297">pitch</a> curve of the intended <a href="./pitch-seq_lsp.html#robo644">pitch-seq</a> object.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> A <a href="#robo314">pitch-seq-palette</a> object.
</pre>
<p class="item_name">EXAMPLE</p>
<pre class="source">;; Returns a <a href="#robo314">pitch-seq-palette</a> object
(<strong>make-psp</strong> 'mpsp 5 '((2 5 3 1 4)
                    (1 4 2 5 3)
                    (5 1 3 2 4)
                    (2 3 4 5 1)
                    (3 2 4 1 5)))

=&gt; 
PITCH-SEQ-PALETTE: num-notes: 5, <a href="./instruments_lsp.html#robo12">instruments</a>: NIL
PALETTE: 
RECURSIVE-ASSOC-LIST: recurse-simple-data: T
                      num-data: 5
                      linked: NIL
                      full-ref: NIL
ASSOC-LIST: warn-not-found T
CIRCULAR-SCLIST: current 0
SCLIST: <a href="./sclist_lsp.html#robo300">sclist</a>-length: 5, bounds-alert: T, copy: T
LINKED-NAMED-OBJECT: previous: NIL, this: NIL, next: NIL
NAMED-OBJECT: id: MPSP, tag: NIL, 
data: (
PITCH-SEQ: notes: NIL
[...]
data: (2 5 3 1 4)
PITCH-SEQ: notes: NIL
[...]
data: (1 4 2 5 3)
PITCH-SEQ: notes: NIL
[...]
data: (5 1 3 2 4)
PITCH-SEQ: notes: NIL
[...]
data: (2 3 4 5 1)
PITCH-SEQ: notes: NIL
[...]
data: (3 2 4 1 5)
)

;; Interrupts with an error if any of the &lt;<a href="./pitch_lsp.html#robo297">pitch</a>-seqs&gt; lists is not of the
;; length specified by &lt;num-notes&gt;
(<strong>make-psp</strong> 'mpsp 5 '((1 2 1 1 3)
                    (1 3 2 1 5)
                    (1 3 5 6 7 8)))

=&gt;
<a href="./pitch_lsp.html#robo297">pitch</a>-seq-<a href="./palette_lsp.html#robo426">palette</a>::verify-and-store: 
In <a href="./pitch-seq_lsp.html#robo644">pitch-seq</a> MPSP-ps-3 from <a href="./palette_lsp.html#robo426">palette</a> MPSP:
Each <a href="./pitch_lsp.html#robo297">pitch</a> sequence must have 5 notes (you have 6): 
[...]
 (1 3 5 6 7 8))
   [Condition of type SIMPLE-ERROR]

;; We can also assign <a href="./instruments_lsp.html#robo12">instruments</a> to specific <a href="./pitch_lsp.html#robo297">pitch</a>-seqs by passing their names
;; (not <a href="./player_lsp.html#robo298">player</a> names, but <a href="./instrument_lsp.html#robo296">instrument</a> names) e.g.
(<strong>make-psp</strong> 'mpsp 5 '((1 2 1 1 3)
                    ((1 3 2 1 5) violin flute)
                    (1 3 5 6 7)))
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">(defun <strong>make-psp</strong> (id <a href="./ensemble_lsp.html#robo163">num-notes</a> <a href="./pitch_lsp.html#robo297">pitch</a>-seqs)
</pre>


<a name="rthm2dseq2dpalette2fcreate2dpsps2ddefault"></a>
<a name="robo544"></a><h2 class=robodoc>rthm-seq-palette/create-psps-default [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="./rthm-seq-palette_lsp.html#robo315">rthm-seq-palette</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">ARGUMENTS</p>
<pre> - An integer that is the number of notes for which a <a href="#robo314">pitch-seq-palette</a>
   object is needed.
 - the <a href="./pitch-seq_lsp.html#robo644">pitch-seq</a> data (see documentation for create psps method).  Ideally
   this would only be passed the first time the function is called.
</pre>
<p class="item_name">RETURN VALUE</p>
<pre> A list of numbers suitable for use in creating a <a href="./pitch-seq_lsp.html#robo644">pitch-seq</a> object.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre class="source">  (defun <strong>create-psps-default</strong> (<a href="./ensemble_lsp.html#robo163">num-notes</a> data-lists)
</pre>

</div> <!-- content -->
<div id="footer">
<p>Generated from ./../../src/pitch-seq-palette.lsp with <a href="http://www.xs4all.nl/~rfsber/Robo/robodoc.html">ROBODoc</a> V4.99.44 on 2025-11-13 11:26:17</p>
</div> <!-- footer -->
</body>
</html>
